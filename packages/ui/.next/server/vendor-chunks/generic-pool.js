/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/generic-pool";
exports.ids = ["vendor-chunks/generic-pool"];
exports.modules = {

/***/ "(rsc)/../../node_modules/generic-pool/index.js":
/*!************************************************!*\
  !*** ../../node_modules/generic-pool/index.js ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("const Pool = __webpack_require__(/*! ./lib/Pool */ \"(rsc)/../../node_modules/generic-pool/lib/Pool.js\");\nconst Deque = __webpack_require__(/*! ./lib/Deque */ \"(rsc)/../../node_modules/generic-pool/lib/Deque.js\");\nconst PriorityQueue = __webpack_require__(/*! ./lib/PriorityQueue */ \"(rsc)/../../node_modules/generic-pool/lib/PriorityQueue.js\");\nconst DefaultEvictor = __webpack_require__(/*! ./lib/DefaultEvictor */ \"(rsc)/../../node_modules/generic-pool/lib/DefaultEvictor.js\");\nmodule.exports = {\n  Pool: Pool,\n  Deque: Deque,\n  PriorityQueue: PriorityQueue,\n  DefaultEvictor: DefaultEvictor,\n  createPool: function(factory, config) {\n    return new Pool(DefaultEvictor, Deque, PriorityQueue, factory, config);\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL2dlbmVyaWMtcG9vbC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBQSxhQUFhLG1CQUFPLENBQUMscUVBQVk7QUFDakMsY0FBYyxtQkFBTyxDQUFDLHVFQUFhO0FBQ25DLHNCQUFzQixtQkFBTyxDQUFDLHVGQUFxQjtBQUNuRCx1QkFBdUIsbUJBQU8sQ0FBQyx5RkFBc0I7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBsdXM5OS9jcm9ueC11aS8uLi8uLi9ub2RlX21vZHVsZXMvZ2VuZXJpYy1wb29sL2luZGV4LmpzPzRiOTkiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgUG9vbCA9IHJlcXVpcmUoXCIuL2xpYi9Qb29sXCIpO1xuY29uc3QgRGVxdWUgPSByZXF1aXJlKFwiLi9saWIvRGVxdWVcIik7XG5jb25zdCBQcmlvcml0eVF1ZXVlID0gcmVxdWlyZShcIi4vbGliL1ByaW9yaXR5UXVldWVcIik7XG5jb25zdCBEZWZhdWx0RXZpY3RvciA9IHJlcXVpcmUoXCIuL2xpYi9EZWZhdWx0RXZpY3RvclwiKTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBQb29sOiBQb29sLFxuICBEZXF1ZTogRGVxdWUsXG4gIFByaW9yaXR5UXVldWU6IFByaW9yaXR5UXVldWUsXG4gIERlZmF1bHRFdmljdG9yOiBEZWZhdWx0RXZpY3RvcixcbiAgY3JlYXRlUG9vbDogZnVuY3Rpb24oZmFjdG9yeSwgY29uZmlnKSB7XG4gICAgcmV0dXJuIG5ldyBQb29sKERlZmF1bHRFdmljdG9yLCBEZXF1ZSwgUHJpb3JpdHlRdWV1ZSwgZmFjdG9yeSwgY29uZmlnKTtcbiAgfVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/generic-pool/index.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/generic-pool/lib/DefaultEvictor.js":
/*!*************************************************************!*\
  !*** ../../node_modules/generic-pool/lib/DefaultEvictor.js ***!
  \*************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nclass DefaultEvictor {\n  evict(config, pooledResource, availableObjectsCount) {\n    const idleTime = Date.now() - pooledResource.lastIdleTime;\n\n    if (\n      config.softIdleTimeoutMillis > 0 &&\n      config.softIdleTimeoutMillis < idleTime &&\n      config.min < availableObjectsCount\n    ) {\n      return true;\n    }\n\n    if (config.idleTimeoutMillis < idleTime) {\n      return true;\n    }\n\n    return false;\n  }\n}\n\nmodule.exports = DefaultEvictor;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL2dlbmVyaWMtcG9vbC9saWIvRGVmYXVsdEV2aWN0b3IuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcGx1czk5L2Nyb254LXVpLy4uLy4uL25vZGVfbW9kdWxlcy9nZW5lcmljLXBvb2wvbGliL0RlZmF1bHRFdmljdG9yLmpzPzJiZTQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNsYXNzIERlZmF1bHRFdmljdG9yIHtcbiAgZXZpY3QoY29uZmlnLCBwb29sZWRSZXNvdXJjZSwgYXZhaWxhYmxlT2JqZWN0c0NvdW50KSB7XG4gICAgY29uc3QgaWRsZVRpbWUgPSBEYXRlLm5vdygpIC0gcG9vbGVkUmVzb3VyY2UubGFzdElkbGVUaW1lO1xuXG4gICAgaWYgKFxuICAgICAgY29uZmlnLnNvZnRJZGxlVGltZW91dE1pbGxpcyA+IDAgJiZcbiAgICAgIGNvbmZpZy5zb2Z0SWRsZVRpbWVvdXRNaWxsaXMgPCBpZGxlVGltZSAmJlxuICAgICAgY29uZmlnLm1pbiA8IGF2YWlsYWJsZU9iamVjdHNDb3VudFxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGNvbmZpZy5pZGxlVGltZW91dE1pbGxpcyA8IGlkbGVUaW1lKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBEZWZhdWx0RXZpY3RvcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/generic-pool/lib/DefaultEvictor.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/generic-pool/lib/Deferred.js":
/*!*******************************************************!*\
  !*** ../../node_modules/generic-pool/lib/Deferred.js ***!
  \*******************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/**\n * This is apparently a bit like a Jquery deferred, hence the name\n */\n\nclass Deferred {\n  constructor(Promise) {\n    this._state = Deferred.PENDING;\n    this._resolve = undefined;\n    this._reject = undefined;\n\n    this._promise = new Promise((resolve, reject) => {\n      this._resolve = resolve;\n      this._reject = reject;\n    });\n  }\n\n  get state() {\n    return this._state;\n  }\n\n  get promise() {\n    return this._promise;\n  }\n\n  reject(reason) {\n    if (this._state !== Deferred.PENDING) {\n      return;\n    }\n    this._state = Deferred.REJECTED;\n    this._reject(reason);\n  }\n\n  resolve(value) {\n    if (this._state !== Deferred.PENDING) {\n      return;\n    }\n    this._state = Deferred.FULFILLED;\n    this._resolve(value);\n  }\n}\n\n// TODO: should these really live here? or be a seperate 'state' enum\nDeferred.PENDING = \"PENDING\";\nDeferred.FULFILLED = \"FULFILLED\";\nDeferred.REJECTED = \"REJECTED\";\n\nmodule.exports = Deferred;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL2dlbmVyaWMtcG9vbC9saWIvRGVmZXJyZWQuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BwbHVzOTkvY3JvbngtdWkvLi4vLi4vbm9kZV9tb2R1bGVzL2dlbmVyaWMtcG9vbC9saWIvRGVmZXJyZWQuanM/MDI3OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBUaGlzIGlzIGFwcGFyZW50bHkgYSBiaXQgbGlrZSBhIEpxdWVyeSBkZWZlcnJlZCwgaGVuY2UgdGhlIG5hbWVcbiAqL1xuXG5jbGFzcyBEZWZlcnJlZCB7XG4gIGNvbnN0cnVjdG9yKFByb21pc2UpIHtcbiAgICB0aGlzLl9zdGF0ZSA9IERlZmVycmVkLlBFTkRJTkc7XG4gICAgdGhpcy5fcmVzb2x2ZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9yZWplY3QgPSB1bmRlZmluZWQ7XG5cbiAgICB0aGlzLl9wcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5fcmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICB0aGlzLl9yZWplY3QgPSByZWplY3Q7XG4gICAgfSk7XG4gIH1cblxuICBnZXQgc3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xuICB9XG5cbiAgZ2V0IHByb21pc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Byb21pc2U7XG4gIH1cblxuICByZWplY3QocmVhc29uKSB7XG4gICAgaWYgKHRoaXMuX3N0YXRlICE9PSBEZWZlcnJlZC5QRU5ESU5HKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX3N0YXRlID0gRGVmZXJyZWQuUkVKRUNURUQ7XG4gICAgdGhpcy5fcmVqZWN0KHJlYXNvbik7XG4gIH1cblxuICByZXNvbHZlKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuX3N0YXRlICE9PSBEZWZlcnJlZC5QRU5ESU5HKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX3N0YXRlID0gRGVmZXJyZWQuRlVMRklMTEVEO1xuICAgIHRoaXMuX3Jlc29sdmUodmFsdWUpO1xuICB9XG59XG5cbi8vIFRPRE86IHNob3VsZCB0aGVzZSByZWFsbHkgbGl2ZSBoZXJlPyBvciBiZSBhIHNlcGVyYXRlICdzdGF0ZScgZW51bVxuRGVmZXJyZWQuUEVORElORyA9IFwiUEVORElOR1wiO1xuRGVmZXJyZWQuRlVMRklMTEVEID0gXCJGVUxGSUxMRURcIjtcbkRlZmVycmVkLlJFSkVDVEVEID0gXCJSRUpFQ1RFRFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERlZmVycmVkO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/generic-pool/lib/Deferred.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/generic-pool/lib/Deque.js":
/*!****************************************************!*\
  !*** ../../node_modules/generic-pool/lib/Deque.js ***!
  \****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nconst DoublyLinkedList = __webpack_require__(/*! ./DoublyLinkedList */ \"(rsc)/../../node_modules/generic-pool/lib/DoublyLinkedList.js\");\nconst DequeIterator = __webpack_require__(/*! ./DequeIterator */ \"(rsc)/../../node_modules/generic-pool/lib/DequeIterator.js\");\n/**\n * DoublyLinkedList backed double ended queue\n * implements just enough to keep the Pool\n */\nclass Deque {\n  constructor() {\n    this._list = new DoublyLinkedList();\n  }\n\n  /**\n   * removes and returns the first element from the queue\n   * @return {any} [description]\n   */\n  shift() {\n    if (this.length === 0) {\n      return undefined;\n    }\n\n    const node = this._list.head;\n    this._list.remove(node);\n\n    return node.data;\n  }\n\n  /**\n   * adds one elemts to the beginning of the queue\n   * @param  {any} element [description]\n   * @return {any}         [description]\n   */\n  unshift(element) {\n    const node = DoublyLinkedList.createNode(element);\n\n    this._list.insertBeginning(node);\n  }\n\n  /**\n   * adds one to the end of the queue\n   * @param  {any} element [description]\n   * @return {any}         [description]\n   */\n  push(element) {\n    const node = DoublyLinkedList.createNode(element);\n\n    this._list.insertEnd(node);\n  }\n\n  /**\n   * removes and returns the last element from the queue\n   */\n  pop() {\n    if (this.length === 0) {\n      return undefined;\n    }\n\n    const node = this._list.tail;\n    this._list.remove(node);\n\n    return node.data;\n  }\n\n  [Symbol.iterator]() {\n    return new DequeIterator(this._list);\n  }\n\n  iterator() {\n    return new DequeIterator(this._list);\n  }\n\n  reverseIterator() {\n    return new DequeIterator(this._list, true);\n  }\n\n  /**\n   * get a reference to the item at the head of the queue\n   * @return {any} [description]\n   */\n  get head() {\n    if (this.length === 0) {\n      return undefined;\n    }\n    const node = this._list.head;\n    return node.data;\n  }\n\n  /**\n   * get a reference to the item at the tail of the queue\n   * @return {any} [description]\n   */\n  get tail() {\n    if (this.length === 0) {\n      return undefined;\n    }\n    const node = this._list.tail;\n    return node.data;\n  }\n\n  get length() {\n    return this._list.length;\n  }\n}\n\nmodule.exports = Deque;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL2dlbmVyaWMtcG9vbC9saWIvRGVxdWUuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIseUJBQXlCLG1CQUFPLENBQUMseUZBQW9CO0FBQ3JELHNCQUFzQixtQkFBTyxDQUFDLG1GQUFpQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjLEtBQUs7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWMsS0FBSztBQUNuQixjQUFjLGFBQWE7QUFDM0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWMsS0FBSztBQUNuQixjQUFjLGFBQWE7QUFDM0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjLEtBQUs7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYyxLQUFLO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcGx1czk5L2Nyb254LXVpLy4uLy4uL25vZGVfbW9kdWxlcy9nZW5lcmljLXBvb2wvbGliL0RlcXVlLmpzP2M5MzciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IERvdWJseUxpbmtlZExpc3QgPSByZXF1aXJlKFwiLi9Eb3VibHlMaW5rZWRMaXN0XCIpO1xuY29uc3QgRGVxdWVJdGVyYXRvciA9IHJlcXVpcmUoXCIuL0RlcXVlSXRlcmF0b3JcIik7XG4vKipcbiAqIERvdWJseUxpbmtlZExpc3QgYmFja2VkIGRvdWJsZSBlbmRlZCBxdWV1ZVxuICogaW1wbGVtZW50cyBqdXN0IGVub3VnaCB0byBrZWVwIHRoZSBQb29sXG4gKi9cbmNsYXNzIERlcXVlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fbGlzdCA9IG5ldyBEb3VibHlMaW5rZWRMaXN0KCk7XG4gIH1cblxuICAvKipcbiAgICogcmVtb3ZlcyBhbmQgcmV0dXJucyB0aGUgZmlyc3QgZWxlbWVudCBmcm9tIHRoZSBxdWV1ZVxuICAgKiBAcmV0dXJuIHthbnl9IFtkZXNjcmlwdGlvbl1cbiAgICovXG4gIHNoaWZ0KCkge1xuICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBjb25zdCBub2RlID0gdGhpcy5fbGlzdC5oZWFkO1xuICAgIHRoaXMuX2xpc3QucmVtb3ZlKG5vZGUpO1xuXG4gICAgcmV0dXJuIG5vZGUuZGF0YTtcbiAgfVxuXG4gIC8qKlxuICAgKiBhZGRzIG9uZSBlbGVtdHMgdG8gdGhlIGJlZ2lubmluZyBvZiB0aGUgcXVldWVcbiAgICogQHBhcmFtICB7YW55fSBlbGVtZW50IFtkZXNjcmlwdGlvbl1cbiAgICogQHJldHVybiB7YW55fSAgICAgICAgIFtkZXNjcmlwdGlvbl1cbiAgICovXG4gIHVuc2hpZnQoZWxlbWVudCkge1xuICAgIGNvbnN0IG5vZGUgPSBEb3VibHlMaW5rZWRMaXN0LmNyZWF0ZU5vZGUoZWxlbWVudCk7XG5cbiAgICB0aGlzLl9saXN0Lmluc2VydEJlZ2lubmluZyhub2RlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBhZGRzIG9uZSB0byB0aGUgZW5kIG9mIHRoZSBxdWV1ZVxuICAgKiBAcGFyYW0gIHthbnl9IGVsZW1lbnQgW2Rlc2NyaXB0aW9uXVxuICAgKiBAcmV0dXJuIHthbnl9ICAgICAgICAgW2Rlc2NyaXB0aW9uXVxuICAgKi9cbiAgcHVzaChlbGVtZW50KSB7XG4gICAgY29uc3Qgbm9kZSA9IERvdWJseUxpbmtlZExpc3QuY3JlYXRlTm9kZShlbGVtZW50KTtcblxuICAgIHRoaXMuX2xpc3QuaW5zZXJ0RW5kKG5vZGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIHJlbW92ZXMgYW5kIHJldHVybnMgdGhlIGxhc3QgZWxlbWVudCBmcm9tIHRoZSBxdWV1ZVxuICAgKi9cbiAgcG9wKCkge1xuICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBjb25zdCBub2RlID0gdGhpcy5fbGlzdC50YWlsO1xuICAgIHRoaXMuX2xpc3QucmVtb3ZlKG5vZGUpO1xuXG4gICAgcmV0dXJuIG5vZGUuZGF0YTtcbiAgfVxuXG4gIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgIHJldHVybiBuZXcgRGVxdWVJdGVyYXRvcih0aGlzLl9saXN0KTtcbiAgfVxuXG4gIGl0ZXJhdG9yKCkge1xuICAgIHJldHVybiBuZXcgRGVxdWVJdGVyYXRvcih0aGlzLl9saXN0KTtcbiAgfVxuXG4gIHJldmVyc2VJdGVyYXRvcigpIHtcbiAgICByZXR1cm4gbmV3IERlcXVlSXRlcmF0b3IodGhpcy5fbGlzdCwgdHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogZ2V0IGEgcmVmZXJlbmNlIHRvIHRoZSBpdGVtIGF0IHRoZSBoZWFkIG9mIHRoZSBxdWV1ZVxuICAgKiBAcmV0dXJuIHthbnl9IFtkZXNjcmlwdGlvbl1cbiAgICovXG4gIGdldCBoZWFkKCkge1xuICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3Qgbm9kZSA9IHRoaXMuX2xpc3QuaGVhZDtcbiAgICByZXR1cm4gbm9kZS5kYXRhO1xuICB9XG5cbiAgLyoqXG4gICAqIGdldCBhIHJlZmVyZW5jZSB0byB0aGUgaXRlbSBhdCB0aGUgdGFpbCBvZiB0aGUgcXVldWVcbiAgICogQHJldHVybiB7YW55fSBbZGVzY3JpcHRpb25dXG4gICAqL1xuICBnZXQgdGFpbCgpIHtcbiAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IG5vZGUgPSB0aGlzLl9saXN0LnRhaWw7XG4gICAgcmV0dXJuIG5vZGUuZGF0YTtcbiAgfVxuXG4gIGdldCBsZW5ndGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xpc3QubGVuZ3RoO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gRGVxdWU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/generic-pool/lib/Deque.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/generic-pool/lib/DequeIterator.js":
/*!************************************************************!*\
  !*** ../../node_modules/generic-pool/lib/DequeIterator.js ***!
  \************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nconst DoublyLinkedListIterator = __webpack_require__(/*! ./DoublyLinkedListIterator */ \"(rsc)/../../node_modules/generic-pool/lib/DoublyLinkedListIterator.js\");\n/**\n * Thin wrapper around an underlying DDL iterator\n */\nclass DequeIterator extends DoublyLinkedListIterator {\n  next() {\n    const result = super.next();\n\n    // unwrap the node...\n    if (result.value) {\n      result.value = result.value.data;\n    }\n\n    return result;\n  }\n}\n\nmodule.exports = DequeIterator;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL2dlbmVyaWMtcG9vbC9saWIvRGVxdWVJdGVyYXRvci5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixpQ0FBaUMsbUJBQU8sQ0FBQyx5R0FBNEI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BwbHVzOTkvY3JvbngtdWkvLi4vLi4vbm9kZV9tb2R1bGVzL2dlbmVyaWMtcG9vbC9saWIvRGVxdWVJdGVyYXRvci5qcz9jZTNhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCBEb3VibHlMaW5rZWRMaXN0SXRlcmF0b3IgPSByZXF1aXJlKFwiLi9Eb3VibHlMaW5rZWRMaXN0SXRlcmF0b3JcIik7XG4vKipcbiAqIFRoaW4gd3JhcHBlciBhcm91bmQgYW4gdW5kZXJseWluZyBEREwgaXRlcmF0b3JcbiAqL1xuY2xhc3MgRGVxdWVJdGVyYXRvciBleHRlbmRzIERvdWJseUxpbmtlZExpc3RJdGVyYXRvciB7XG4gIG5leHQoKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gc3VwZXIubmV4dCgpO1xuXG4gICAgLy8gdW53cmFwIHRoZSBub2RlLi4uXG4gICAgaWYgKHJlc3VsdC52YWx1ZSkge1xuICAgICAgcmVzdWx0LnZhbHVlID0gcmVzdWx0LnZhbHVlLmRhdGE7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IERlcXVlSXRlcmF0b3I7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/generic-pool/lib/DequeIterator.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/generic-pool/lib/DoublyLinkedList.js":
/*!***************************************************************!*\
  !*** ../../node_modules/generic-pool/lib/DoublyLinkedList.js ***!
  \***************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/**\n * A Doubly Linked List, because there aren't enough in the world...\n * this is pretty much a direct JS port of the one wikipedia\n * https://en.wikipedia.org/wiki/Doubly_linked_list\n *\n * For most usage 'insertBeginning' and 'insertEnd' should be enough\n *\n * nodes are expected to something like a POJSO like\n * {\n *   prev: null,\n *   next: null,\n *   something: 'whatever you like'\n * }\n */\nclass DoublyLinkedList {\n  constructor() {\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  insertBeginning(node) {\n    if (this.head === null) {\n      this.head = node;\n      this.tail = node;\n      node.prev = null;\n      node.next = null;\n      this.length++;\n    } else {\n      this.insertBefore(this.head, node);\n    }\n  }\n\n  insertEnd(node) {\n    if (this.tail === null) {\n      this.insertBeginning(node);\n    } else {\n      this.insertAfter(this.tail, node);\n    }\n  }\n\n  insertAfter(node, newNode) {\n    newNode.prev = node;\n    newNode.next = node.next;\n    if (node.next === null) {\n      this.tail = newNode;\n    } else {\n      node.next.prev = newNode;\n    }\n    node.next = newNode;\n    this.length++;\n  }\n\n  insertBefore(node, newNode) {\n    newNode.prev = node.prev;\n    newNode.next = node;\n    if (node.prev === null) {\n      this.head = newNode;\n    } else {\n      node.prev.next = newNode;\n    }\n    node.prev = newNode;\n    this.length++;\n  }\n\n  remove(node) {\n    if (node.prev === null) {\n      this.head = node.next;\n    } else {\n      node.prev.next = node.next;\n    }\n    if (node.next === null) {\n      this.tail = node.prev;\n    } else {\n      node.next.prev = node.prev;\n    }\n    node.prev = null;\n    node.next = null;\n    this.length--;\n  }\n\n  // FIXME: this should not live here and has become a dumping ground...\n  static createNode(data) {\n    return {\n      prev: null,\n      next: null,\n      data: data\n    };\n  }\n}\n\nmodule.exports = DoublyLinkedList;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL2dlbmVyaWMtcG9vbC9saWIvRG91Ymx5TGlua2VkTGlzdC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcGx1czk5L2Nyb254LXVpLy4uLy4uL25vZGVfbW9kdWxlcy9nZW5lcmljLXBvb2wvbGliL0RvdWJseUxpbmtlZExpc3QuanM/NmU5MyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBBIERvdWJseSBMaW5rZWQgTGlzdCwgYmVjYXVzZSB0aGVyZSBhcmVuJ3QgZW5vdWdoIGluIHRoZSB3b3JsZC4uLlxuICogdGhpcyBpcyBwcmV0dHkgbXVjaCBhIGRpcmVjdCBKUyBwb3J0IG9mIHRoZSBvbmUgd2lraXBlZGlhXG4gKiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Eb3VibHlfbGlua2VkX2xpc3RcbiAqXG4gKiBGb3IgbW9zdCB1c2FnZSAnaW5zZXJ0QmVnaW5uaW5nJyBhbmQgJ2luc2VydEVuZCcgc2hvdWxkIGJlIGVub3VnaFxuICpcbiAqIG5vZGVzIGFyZSBleHBlY3RlZCB0byBzb21ldGhpbmcgbGlrZSBhIFBPSlNPIGxpa2VcbiAqIHtcbiAqICAgcHJldjogbnVsbCxcbiAqICAgbmV4dDogbnVsbCxcbiAqICAgc29tZXRoaW5nOiAnd2hhdGV2ZXIgeW91IGxpa2UnXG4gKiB9XG4gKi9cbmNsYXNzIERvdWJseUxpbmtlZExpc3Qge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmhlYWQgPSBudWxsO1xuICAgIHRoaXMudGFpbCA9IG51bGw7XG4gICAgdGhpcy5sZW5ndGggPSAwO1xuICB9XG5cbiAgaW5zZXJ0QmVnaW5uaW5nKG5vZGUpIHtcbiAgICBpZiAodGhpcy5oZWFkID09PSBudWxsKSB7XG4gICAgICB0aGlzLmhlYWQgPSBub2RlO1xuICAgICAgdGhpcy50YWlsID0gbm9kZTtcbiAgICAgIG5vZGUucHJldiA9IG51bGw7XG4gICAgICBub2RlLm5leHQgPSBudWxsO1xuICAgICAgdGhpcy5sZW5ndGgrKztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbnNlcnRCZWZvcmUodGhpcy5oZWFkLCBub2RlKTtcbiAgICB9XG4gIH1cblxuICBpbnNlcnRFbmQobm9kZSkge1xuICAgIGlmICh0aGlzLnRhaWwgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuaW5zZXJ0QmVnaW5uaW5nKG5vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluc2VydEFmdGVyKHRoaXMudGFpbCwgbm9kZSk7XG4gICAgfVxuICB9XG5cbiAgaW5zZXJ0QWZ0ZXIobm9kZSwgbmV3Tm9kZSkge1xuICAgIG5ld05vZGUucHJldiA9IG5vZGU7XG4gICAgbmV3Tm9kZS5uZXh0ID0gbm9kZS5uZXh0O1xuICAgIGlmIChub2RlLm5leHQgPT09IG51bGwpIHtcbiAgICAgIHRoaXMudGFpbCA9IG5ld05vZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGUubmV4dC5wcmV2ID0gbmV3Tm9kZTtcbiAgICB9XG4gICAgbm9kZS5uZXh0ID0gbmV3Tm9kZTtcbiAgICB0aGlzLmxlbmd0aCsrO1xuICB9XG5cbiAgaW5zZXJ0QmVmb3JlKG5vZGUsIG5ld05vZGUpIHtcbiAgICBuZXdOb2RlLnByZXYgPSBub2RlLnByZXY7XG4gICAgbmV3Tm9kZS5uZXh0ID0gbm9kZTtcbiAgICBpZiAobm9kZS5wcmV2ID09PSBudWxsKSB7XG4gICAgICB0aGlzLmhlYWQgPSBuZXdOb2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICBub2RlLnByZXYubmV4dCA9IG5ld05vZGU7XG4gICAgfVxuICAgIG5vZGUucHJldiA9IG5ld05vZGU7XG4gICAgdGhpcy5sZW5ndGgrKztcbiAgfVxuXG4gIHJlbW92ZShub2RlKSB7XG4gICAgaWYgKG5vZGUucHJldiA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5oZWFkID0gbm9kZS5uZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICBub2RlLnByZXYubmV4dCA9IG5vZGUubmV4dDtcbiAgICB9XG4gICAgaWYgKG5vZGUubmV4dCA9PT0gbnVsbCkge1xuICAgICAgdGhpcy50YWlsID0gbm9kZS5wcmV2O1xuICAgIH0gZWxzZSB7XG4gICAgICBub2RlLm5leHQucHJldiA9IG5vZGUucHJldjtcbiAgICB9XG4gICAgbm9kZS5wcmV2ID0gbnVsbDtcbiAgICBub2RlLm5leHQgPSBudWxsO1xuICAgIHRoaXMubGVuZ3RoLS07XG4gIH1cblxuICAvLyBGSVhNRTogdGhpcyBzaG91bGQgbm90IGxpdmUgaGVyZSBhbmQgaGFzIGJlY29tZSBhIGR1bXBpbmcgZ3JvdW5kLi4uXG4gIHN0YXRpYyBjcmVhdGVOb2RlKGRhdGEpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJldjogbnVsbCxcbiAgICAgIG5leHQ6IG51bGwsXG4gICAgICBkYXRhOiBkYXRhXG4gICAgfTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IERvdWJseUxpbmtlZExpc3Q7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/generic-pool/lib/DoublyLinkedList.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/generic-pool/lib/DoublyLinkedListIterator.js":
/*!***********************************************************************!*\
  !*** ../../node_modules/generic-pool/lib/DoublyLinkedListIterator.js ***!
  \***********************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/**\n * Creates an interator for a DoublyLinkedList starting at the given node\n * It's internal cursor will remains relative to the last \"iterated\" node as that\n * node moves through the list until it either iterates to the end of the list,\n * or the the node it's tracking is removed from the list. Until the first 'next'\n * call it tracks the head/tail of the linked list. This means that one can create\n * an iterator on an empty list, then add nodes, and then the iterator will follow\n * those nodes. Because the DoublyLinkedList nodes don't track their owning \"list\" and\n * it's highly inefficient to walk the list for every iteration, the iterator won't know\n * if the node has been detached from one List and added to another list, or if the iterator\n *\n * The created object is an es6 compatible iterator\n */\nclass DoublyLinkedListIterator {\n  /**\n   * @param  {Object} doublyLinkedList     a node that is part of a doublyLinkedList\n   * @param  {Boolean} [reverse=false]     is this a reverse iterator? default: false\n   */\n  constructor(doublyLinkedList, reverse) {\n    this._list = doublyLinkedList;\n    // NOTE: these key names are tied to the DoublyLinkedListIterator\n    this._direction = reverse === true ? \"prev\" : \"next\";\n    this._startPosition = reverse === true ? \"tail\" : \"head\";\n    this._started = false;\n    this._cursor = null;\n    this._done = false;\n  }\n\n  _start() {\n    this._cursor = this._list[this._startPosition];\n    this._started = true;\n  }\n\n  _advanceCursor() {\n    if (this._started === false) {\n      this._started = true;\n      this._cursor = this._list[this._startPosition];\n      return;\n    }\n    this._cursor = this._cursor[this._direction];\n  }\n\n  reset() {\n    this._done = false;\n    this._started = false;\n    this._cursor = null;\n  }\n\n  remove() {\n    if (\n      this._started === false ||\n      this._done === true ||\n      this._isCursorDetached()\n    ) {\n      return false;\n    }\n    this._list.remove(this._cursor);\n  }\n\n  next() {\n    if (this._done === true) {\n      return { done: true };\n    }\n\n    this._advanceCursor();\n\n    // if there is no node at the cursor or the node at the cursor is no longer part of\n    // a doubly linked list then we are done/finished/kaput\n    if (this._cursor === null || this._isCursorDetached()) {\n      this._done = true;\n      return { done: true };\n    }\n\n    return {\n      value: this._cursor,\n      done: false\n    };\n  }\n\n  /**\n   * Is the node detached from a list?\n   * NOTE: you can trick/bypass/confuse this check by removing a node from one DoublyLinkedList\n   * and adding it to another.\n   * TODO: We can make this smarter by checking the direction of travel and only checking\n   * the required next/prev/head/tail rather than all of them\n   * @return {Boolean}      [description]\n   */\n  _isCursorDetached() {\n    return (\n      this._cursor.prev === null &&\n      this._cursor.next === null &&\n      this._list.tail !== this._cursor &&\n      this._list.head !== this._cursor\n    );\n  }\n}\n\nmodule.exports = DoublyLinkedListIterator;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL2dlbmVyaWMtcG9vbC9saWIvRG91Ymx5TGlua2VkTGlzdEl0ZXJhdG9yLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QixjQUFjLFNBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGNBQWM7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcGx1czk5L2Nyb254LXVpLy4uLy4uL25vZGVfbW9kdWxlcy9nZW5lcmljLXBvb2wvbGliL0RvdWJseUxpbmtlZExpc3RJdGVyYXRvci5qcz9kY2I5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gaW50ZXJhdG9yIGZvciBhIERvdWJseUxpbmtlZExpc3Qgc3RhcnRpbmcgYXQgdGhlIGdpdmVuIG5vZGVcbiAqIEl0J3MgaW50ZXJuYWwgY3Vyc29yIHdpbGwgcmVtYWlucyByZWxhdGl2ZSB0byB0aGUgbGFzdCBcIml0ZXJhdGVkXCIgbm9kZSBhcyB0aGF0XG4gKiBub2RlIG1vdmVzIHRocm91Z2ggdGhlIGxpc3QgdW50aWwgaXQgZWl0aGVyIGl0ZXJhdGVzIHRvIHRoZSBlbmQgb2YgdGhlIGxpc3QsXG4gKiBvciB0aGUgdGhlIG5vZGUgaXQncyB0cmFja2luZyBpcyByZW1vdmVkIGZyb20gdGhlIGxpc3QuIFVudGlsIHRoZSBmaXJzdCAnbmV4dCdcbiAqIGNhbGwgaXQgdHJhY2tzIHRoZSBoZWFkL3RhaWwgb2YgdGhlIGxpbmtlZCBsaXN0LiBUaGlzIG1lYW5zIHRoYXQgb25lIGNhbiBjcmVhdGVcbiAqIGFuIGl0ZXJhdG9yIG9uIGFuIGVtcHR5IGxpc3QsIHRoZW4gYWRkIG5vZGVzLCBhbmQgdGhlbiB0aGUgaXRlcmF0b3Igd2lsbCBmb2xsb3dcbiAqIHRob3NlIG5vZGVzLiBCZWNhdXNlIHRoZSBEb3VibHlMaW5rZWRMaXN0IG5vZGVzIGRvbid0IHRyYWNrIHRoZWlyIG93bmluZyBcImxpc3RcIiBhbmRcbiAqIGl0J3MgaGlnaGx5IGluZWZmaWNpZW50IHRvIHdhbGsgdGhlIGxpc3QgZm9yIGV2ZXJ5IGl0ZXJhdGlvbiwgdGhlIGl0ZXJhdG9yIHdvbid0IGtub3dcbiAqIGlmIHRoZSBub2RlIGhhcyBiZWVuIGRldGFjaGVkIGZyb20gb25lIExpc3QgYW5kIGFkZGVkIHRvIGFub3RoZXIgbGlzdCwgb3IgaWYgdGhlIGl0ZXJhdG9yXG4gKlxuICogVGhlIGNyZWF0ZWQgb2JqZWN0IGlzIGFuIGVzNiBjb21wYXRpYmxlIGl0ZXJhdG9yXG4gKi9cbmNsYXNzIERvdWJseUxpbmtlZExpc3RJdGVyYXRvciB7XG4gIC8qKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGRvdWJseUxpbmtlZExpc3QgICAgIGEgbm9kZSB0aGF0IGlzIHBhcnQgb2YgYSBkb3VibHlMaW5rZWRMaXN0XG4gICAqIEBwYXJhbSAge0Jvb2xlYW59IFtyZXZlcnNlPWZhbHNlXSAgICAgaXMgdGhpcyBhIHJldmVyc2UgaXRlcmF0b3I/IGRlZmF1bHQ6IGZhbHNlXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihkb3VibHlMaW5rZWRMaXN0LCByZXZlcnNlKSB7XG4gICAgdGhpcy5fbGlzdCA9IGRvdWJseUxpbmtlZExpc3Q7XG4gICAgLy8gTk9URTogdGhlc2Uga2V5IG5hbWVzIGFyZSB0aWVkIHRvIHRoZSBEb3VibHlMaW5rZWRMaXN0SXRlcmF0b3JcbiAgICB0aGlzLl9kaXJlY3Rpb24gPSByZXZlcnNlID09PSB0cnVlID8gXCJwcmV2XCIgOiBcIm5leHRcIjtcbiAgICB0aGlzLl9zdGFydFBvc2l0aW9uID0gcmV2ZXJzZSA9PT0gdHJ1ZSA/IFwidGFpbFwiIDogXCJoZWFkXCI7XG4gICAgdGhpcy5fc3RhcnRlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2N1cnNvciA9IG51bGw7XG4gICAgdGhpcy5fZG9uZSA9IGZhbHNlO1xuICB9XG5cbiAgX3N0YXJ0KCkge1xuICAgIHRoaXMuX2N1cnNvciA9IHRoaXMuX2xpc3RbdGhpcy5fc3RhcnRQb3NpdGlvbl07XG4gICAgdGhpcy5fc3RhcnRlZCA9IHRydWU7XG4gIH1cblxuICBfYWR2YW5jZUN1cnNvcigpIHtcbiAgICBpZiAodGhpcy5fc3RhcnRlZCA9PT0gZmFsc2UpIHtcbiAgICAgIHRoaXMuX3N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5fY3Vyc29yID0gdGhpcy5fbGlzdFt0aGlzLl9zdGFydFBvc2l0aW9uXTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fY3Vyc29yID0gdGhpcy5fY3Vyc29yW3RoaXMuX2RpcmVjdGlvbl07XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLl9kb25lID0gZmFsc2U7XG4gICAgdGhpcy5fc3RhcnRlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2N1cnNvciA9IG51bGw7XG4gIH1cblxuICByZW1vdmUoKSB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5fc3RhcnRlZCA9PT0gZmFsc2UgfHxcbiAgICAgIHRoaXMuX2RvbmUgPT09IHRydWUgfHxcbiAgICAgIHRoaXMuX2lzQ3Vyc29yRGV0YWNoZWQoKVxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLl9saXN0LnJlbW92ZSh0aGlzLl9jdXJzb3IpO1xuICB9XG5cbiAgbmV4dCgpIHtcbiAgICBpZiAodGhpcy5fZG9uZSA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9O1xuICAgIH1cblxuICAgIHRoaXMuX2FkdmFuY2VDdXJzb3IoKTtcblxuICAgIC8vIGlmIHRoZXJlIGlzIG5vIG5vZGUgYXQgdGhlIGN1cnNvciBvciB0aGUgbm9kZSBhdCB0aGUgY3Vyc29yIGlzIG5vIGxvbmdlciBwYXJ0IG9mXG4gICAgLy8gYSBkb3VibHkgbGlua2VkIGxpc3QgdGhlbiB3ZSBhcmUgZG9uZS9maW5pc2hlZC9rYXB1dFxuICAgIGlmICh0aGlzLl9jdXJzb3IgPT09IG51bGwgfHwgdGhpcy5faXNDdXJzb3JEZXRhY2hlZCgpKSB7XG4gICAgICB0aGlzLl9kb25lID0gdHJ1ZTtcbiAgICAgIHJldHVybiB7IGRvbmU6IHRydWUgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IHRoaXMuX2N1cnNvcixcbiAgICAgIGRvbmU6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJcyB0aGUgbm9kZSBkZXRhY2hlZCBmcm9tIGEgbGlzdD9cbiAgICogTk9URTogeW91IGNhbiB0cmljay9ieXBhc3MvY29uZnVzZSB0aGlzIGNoZWNrIGJ5IHJlbW92aW5nIGEgbm9kZSBmcm9tIG9uZSBEb3VibHlMaW5rZWRMaXN0XG4gICAqIGFuZCBhZGRpbmcgaXQgdG8gYW5vdGhlci5cbiAgICogVE9ETzogV2UgY2FuIG1ha2UgdGhpcyBzbWFydGVyIGJ5IGNoZWNraW5nIHRoZSBkaXJlY3Rpb24gb2YgdHJhdmVsIGFuZCBvbmx5IGNoZWNraW5nXG4gICAqIHRoZSByZXF1aXJlZCBuZXh0L3ByZXYvaGVhZC90YWlsIHJhdGhlciB0aGFuIGFsbCBvZiB0aGVtXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59ICAgICAgW2Rlc2NyaXB0aW9uXVxuICAgKi9cbiAgX2lzQ3Vyc29yRGV0YWNoZWQoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuX2N1cnNvci5wcmV2ID09PSBudWxsICYmXG4gICAgICB0aGlzLl9jdXJzb3IubmV4dCA9PT0gbnVsbCAmJlxuICAgICAgdGhpcy5fbGlzdC50YWlsICE9PSB0aGlzLl9jdXJzb3IgJiZcbiAgICAgIHRoaXMuX2xpc3QuaGVhZCAhPT0gdGhpcy5fY3Vyc29yXG4gICAgKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IERvdWJseUxpbmtlZExpc3RJdGVyYXRvcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/generic-pool/lib/DoublyLinkedListIterator.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/generic-pool/lib/Pool.js":
/*!***************************************************!*\
  !*** ../../node_modules/generic-pool/lib/Pool.js ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nconst EventEmitter = (__webpack_require__(/*! events */ \"events\").EventEmitter);\n\nconst factoryValidator = __webpack_require__(/*! ./factoryValidator */ \"(rsc)/../../node_modules/generic-pool/lib/factoryValidator.js\");\nconst PoolOptions = __webpack_require__(/*! ./PoolOptions */ \"(rsc)/../../node_modules/generic-pool/lib/PoolOptions.js\");\nconst ResourceRequest = __webpack_require__(/*! ./ResourceRequest */ \"(rsc)/../../node_modules/generic-pool/lib/ResourceRequest.js\");\nconst ResourceLoan = __webpack_require__(/*! ./ResourceLoan */ \"(rsc)/../../node_modules/generic-pool/lib/ResourceLoan.js\");\nconst PooledResource = __webpack_require__(/*! ./PooledResource */ \"(rsc)/../../node_modules/generic-pool/lib/PooledResource.js\");\nconst DefaultEvictor = __webpack_require__(/*! ./DefaultEvictor */ \"(rsc)/../../node_modules/generic-pool/lib/DefaultEvictor.js\");\nconst Deque = __webpack_require__(/*! ./Deque */ \"(rsc)/../../node_modules/generic-pool/lib/Deque.js\");\nconst Deferred = __webpack_require__(/*! ./Deferred */ \"(rsc)/../../node_modules/generic-pool/lib/Deferred.js\");\nconst PriorityQueue = __webpack_require__(/*! ./PriorityQueue */ \"(rsc)/../../node_modules/generic-pool/lib/PriorityQueue.js\");\nconst DequeIterator = __webpack_require__(/*! ./DequeIterator */ \"(rsc)/../../node_modules/generic-pool/lib/DequeIterator.js\");\n\nconst reflector = (__webpack_require__(/*! ./utils */ \"(rsc)/../../node_modules/generic-pool/lib/utils.js\").reflector);\n\n/**\n * TODO: move me\n */\nconst FACTORY_CREATE_ERROR = \"factoryCreateError\";\nconst FACTORY_DESTROY_ERROR = \"factoryDestroyError\";\n\nclass Pool extends EventEmitter {\n  /**\n   * Generate an Object pool with a specified `factory` and `config`.\n   *\n   * @param {typeof DefaultEvictor} Evictor\n   * @param {typeof Deque} Deque\n   * @param {typeof PriorityQueue} PriorityQueue\n   * @param {Object} factory\n   *   Factory to be used for generating and destroying the items.\n   * @param {Function} factory.create\n   *   Should create the item to be acquired,\n   *   and call it's first callback argument with the generated item as it's argument.\n   * @param {Function} factory.destroy\n   *   Should gently close any resources that the item is using.\n   *   Called before the items is destroyed.\n   * @param {Function} factory.validate\n   *   Test if a resource is still valid .Should return a promise that resolves to a boolean, true if resource is still valid and false\n   *   If it should be removed from pool.\n   * @param {Object} options\n   */\n  constructor(Evictor, Deque, PriorityQueue, factory, options) {\n    super();\n\n    factoryValidator(factory);\n\n    this._config = new PoolOptions(options);\n\n    // TODO: fix up this ugly glue-ing\n    this._Promise = this._config.Promise;\n\n    this._factory = factory;\n    this._draining = false;\n    this._started = false;\n    /**\n     * Holds waiting clients\n     * @type {PriorityQueue}\n     */\n    this._waitingClientsQueue = new PriorityQueue(this._config.priorityRange);\n\n    /**\n     * Collection of promises for resource creation calls made by the pool to factory.create\n     * @type {Set}\n     */\n    this._factoryCreateOperations = new Set();\n\n    /**\n     * Collection of promises for resource destruction calls made by the pool to factory.destroy\n     * @type {Set}\n     */\n    this._factoryDestroyOperations = new Set();\n\n    /**\n     * A queue/stack of pooledResources awaiting acquisition\n     * TODO: replace with LinkedList backed array\n     * @type {Deque}\n     */\n    this._availableObjects = new Deque();\n\n    /**\n     * Collection of references for any resource that are undergoing validation before being acquired\n     * @type {Set}\n     */\n    this._testOnBorrowResources = new Set();\n\n    /**\n     * Collection of references for any resource that are undergoing validation before being returned\n     * @type {Set}\n     */\n    this._testOnReturnResources = new Set();\n\n    /**\n     * Collection of promises for any validations currently in process\n     * @type {Set}\n     */\n    this._validationOperations = new Set();\n\n    /**\n     * All objects associated with this pool in any state (except destroyed)\n     * @type {Set}\n     */\n    this._allObjects = new Set();\n\n    /**\n     * Loans keyed by the borrowed resource\n     * @type {Map}\n     */\n    this._resourceLoans = new Map();\n\n    /**\n     * Infinitely looping iterator over available object\n     * @type {DequeIterator}\n     */\n    this._evictionIterator = this._availableObjects.iterator();\n\n    this._evictor = new Evictor();\n\n    /**\n     * handle for setTimeout for next eviction run\n     * @type {(number|null)}\n     */\n    this._scheduledEviction = null;\n\n    // create initial resources (if factory.min > 0)\n    if (this._config.autostart === true) {\n      this.start();\n    }\n  }\n\n  _destroy(pooledResource) {\n    // FIXME: do we need another state for \"in destruction\"?\n    pooledResource.invalidate();\n    this._allObjects.delete(pooledResource);\n    // NOTE: this maybe very bad promise usage?\n    const destroyPromise = this._factory.destroy(pooledResource.obj);\n    const wrappedDestroyPromise = this._config.destroyTimeoutMillis\n      ? this._Promise.resolve(this._applyDestroyTimeout(destroyPromise))\n      : this._Promise.resolve(destroyPromise);\n\n    this._trackOperation(\n      wrappedDestroyPromise,\n      this._factoryDestroyOperations\n    ).catch(reason => {\n      this.emit(FACTORY_DESTROY_ERROR, reason);\n    });\n\n    // TODO: maybe ensuring minimum pool size should live outside here\n    this._ensureMinimum();\n  }\n\n  _applyDestroyTimeout(promise) {\n    const timeoutPromise = new this._Promise((resolve, reject) => {\n      setTimeout(() => {\n        reject(new Error(\"destroy timed out\"));\n      }, this._config.destroyTimeoutMillis).unref();\n    });\n    return this._Promise.race([timeoutPromise, promise]);\n  }\n\n  /**\n   * Attempt to move an available resource into test and then onto a waiting client\n   * @return {Boolean} could we move an available resource into test\n   */\n  _testOnBorrow() {\n    if (this._availableObjects.length < 1) {\n      return false;\n    }\n\n    const pooledResource = this._availableObjects.shift();\n    // Mark the resource as in test\n    pooledResource.test();\n    this._testOnBorrowResources.add(pooledResource);\n    const validationPromise = this._factory.validate(pooledResource.obj);\n    const wrappedValidationPromise = this._Promise.resolve(validationPromise);\n\n    this._trackOperation(\n      wrappedValidationPromise,\n      this._validationOperations\n    ).then(isValid => {\n      this._testOnBorrowResources.delete(pooledResource);\n\n      if (isValid === false) {\n        pooledResource.invalidate();\n        this._destroy(pooledResource);\n        this._dispense();\n        return;\n      }\n      this._dispatchPooledResourceToNextWaitingClient(pooledResource);\n    });\n\n    return true;\n  }\n\n  /**\n   * Attempt to move an available resource to a waiting client\n   * @return {Boolean} [description]\n   */\n  _dispatchResource() {\n    if (this._availableObjects.length < 1) {\n      return false;\n    }\n\n    const pooledResource = this._availableObjects.shift();\n    this._dispatchPooledResourceToNextWaitingClient(pooledResource);\n    return false;\n  }\n\n  /**\n   * Attempt to resolve an outstanding resource request using an available resource from\n   * the pool, or creating new ones\n   *\n   * @private\n   */\n  _dispense() {\n    /**\n     * Local variables for ease of reading/writing\n     * these don't (shouldn't) change across the execution of this fn\n     */\n    const numWaitingClients = this._waitingClientsQueue.length;\n\n    // If there aren't any waiting requests then there is nothing to do\n    // so lets short-circuit\n    if (numWaitingClients < 1) {\n      return;\n    }\n\n    const resourceShortfall =\n      numWaitingClients - this._potentiallyAllocableResourceCount;\n\n    const actualNumberOfResourcesToCreate = Math.min(\n      this.spareResourceCapacity,\n      resourceShortfall\n    );\n    for (let i = 0; actualNumberOfResourcesToCreate > i; i++) {\n      this._createResource();\n    }\n\n    // If we are doing test-on-borrow see how many more resources need to be moved into test\n    // to help satisfy waitingClients\n    if (this._config.testOnBorrow === true) {\n      // how many available resources do we need to shift into test\n      const desiredNumberOfResourcesToMoveIntoTest =\n        numWaitingClients - this._testOnBorrowResources.size;\n      const actualNumberOfResourcesToMoveIntoTest = Math.min(\n        this._availableObjects.length,\n        desiredNumberOfResourcesToMoveIntoTest\n      );\n      for (let i = 0; actualNumberOfResourcesToMoveIntoTest > i; i++) {\n        this._testOnBorrow();\n      }\n    }\n\n    // if we aren't testing-on-borrow then lets try to allocate what we can\n    if (this._config.testOnBorrow === false) {\n      const actualNumberOfResourcesToDispatch = Math.min(\n        this._availableObjects.length,\n        numWaitingClients\n      );\n      for (let i = 0; actualNumberOfResourcesToDispatch > i; i++) {\n        this._dispatchResource();\n      }\n    }\n  }\n\n  /**\n   * Dispatches a pooledResource to the next waiting client (if any) else\n   * puts the PooledResource back on the available list\n   * @param  {PooledResource} pooledResource [description]\n   * @return {Boolean}                [description]\n   */\n  _dispatchPooledResourceToNextWaitingClient(pooledResource) {\n    const clientResourceRequest = this._waitingClientsQueue.dequeue();\n    if (\n      clientResourceRequest === undefined ||\n      clientResourceRequest.state !== Deferred.PENDING\n    ) {\n      // While we were away either all the waiting clients timed out\n      // or were somehow fulfilled. put our pooledResource back.\n      this._addPooledResourceToAvailableObjects(pooledResource);\n      // TODO: do need to trigger anything before we leave?\n      return false;\n    }\n    const loan = new ResourceLoan(pooledResource, this._Promise);\n    this._resourceLoans.set(pooledResource.obj, loan);\n    pooledResource.allocate();\n    clientResourceRequest.resolve(pooledResource.obj);\n    return true;\n  }\n\n  /**\n   * tracks on operation using given set\n   * handles adding/removing from the set and resolve/rejects the value/reason\n   * @param  {Promise} operation\n   * @param  {Set} set       Set holding operations\n   * @return {Promise}       Promise that resolves once operation has been removed from set\n   */\n  _trackOperation(operation, set) {\n    set.add(operation);\n\n    return operation.then(\n      v => {\n        set.delete(operation);\n        return this._Promise.resolve(v);\n      },\n      e => {\n        set.delete(operation);\n        return this._Promise.reject(e);\n      }\n    );\n  }\n\n  /**\n   * @private\n   */\n  _createResource() {\n    // An attempt to create a resource\n    const factoryPromise = this._factory.create();\n    const wrappedFactoryPromise = this._Promise\n      .resolve(factoryPromise)\n      .then(resource => {\n        const pooledResource = new PooledResource(resource);\n        this._allObjects.add(pooledResource);\n        this._addPooledResourceToAvailableObjects(pooledResource);\n      });\n\n    this._trackOperation(wrappedFactoryPromise, this._factoryCreateOperations)\n      .then(() => {\n        this._dispense();\n        // Stop bluebird complaining about this side-effect only handler\n        // - a promise was created in a handler but was not returned from it\n        // https://goo.gl/rRqMUw\n        return null;\n      })\n      .catch(reason => {\n        this.emit(FACTORY_CREATE_ERROR, reason);\n        this._dispense();\n      });\n  }\n\n  /**\n   * @private\n   */\n  _ensureMinimum() {\n    if (this._draining === true) {\n      return;\n    }\n    const minShortfall = this._config.min - this._count;\n    for (let i = 0; i < minShortfall; i++) {\n      this._createResource();\n    }\n  }\n\n  _evict() {\n    const testsToRun = Math.min(\n      this._config.numTestsPerEvictionRun,\n      this._availableObjects.length\n    );\n    const evictionConfig = {\n      softIdleTimeoutMillis: this._config.softIdleTimeoutMillis,\n      idleTimeoutMillis: this._config.idleTimeoutMillis,\n      min: this._config.min\n    };\n    for (let testsHaveRun = 0; testsHaveRun < testsToRun; ) {\n      const iterationResult = this._evictionIterator.next();\n\n      // Safety check incase we could get stuck in infinite loop because we\n      // somehow emptied the array after checking its length.\n      if (iterationResult.done === true && this._availableObjects.length < 1) {\n        this._evictionIterator.reset();\n        return;\n      }\n      // If this happens it should just mean we reached the end of the\n      // list and can reset the cursor.\n      if (iterationResult.done === true && this._availableObjects.length > 0) {\n        this._evictionIterator.reset();\n        continue;\n      }\n\n      const resource = iterationResult.value;\n\n      const shouldEvict = this._evictor.evict(\n        evictionConfig,\n        resource,\n        this._availableObjects.length\n      );\n      testsHaveRun++;\n\n      if (shouldEvict === true) {\n        // take it out of the _availableObjects list\n        this._evictionIterator.remove();\n        this._destroy(resource);\n      }\n    }\n  }\n\n  _scheduleEvictorRun() {\n    // Start eviction if set\n    if (this._config.evictionRunIntervalMillis > 0) {\n      // @ts-ignore\n      this._scheduledEviction = setTimeout(() => {\n        this._evict();\n        this._scheduleEvictorRun();\n      }, this._config.evictionRunIntervalMillis).unref();\n    }\n  }\n\n  _descheduleEvictorRun() {\n    if (this._scheduledEviction) {\n      clearTimeout(this._scheduledEviction);\n    }\n    this._scheduledEviction = null;\n  }\n\n  start() {\n    if (this._draining === true) {\n      return;\n    }\n    if (this._started === true) {\n      return;\n    }\n    this._started = true;\n    this._scheduleEvictorRun();\n    this._ensureMinimum();\n  }\n\n  /**\n   * Request a new resource. The callback will be called,\n   * when a new resource is available, passing the resource to the callback.\n   * TODO: should we add a seperate \"acquireWithPriority\" function\n   *\n   * @param {Number} [priority=0]\n   *   Optional.  Integer between 0 and (priorityRange - 1).  Specifies the priority\n   *   of the caller if there are no available resources.  Lower numbers mean higher\n   *   priority.\n   *\n   * @returns {Promise}\n   */\n  acquire(priority) {\n    if (this._started === false && this._config.autostart === false) {\n      this.start();\n    }\n\n    if (this._draining) {\n      return this._Promise.reject(\n        new Error(\"pool is draining and cannot accept work\")\n      );\n    }\n\n    // TODO: should we defer this check till after this event loop incase \"the situation\" changes in the meantime\n    if (\n      this.spareResourceCapacity < 1 &&\n      this._availableObjects.length < 1 &&\n      this._config.maxWaitingClients !== undefined &&\n      this._waitingClientsQueue.length >= this._config.maxWaitingClients\n    ) {\n      return this._Promise.reject(\n        new Error(\"max waitingClients count exceeded\")\n      );\n    }\n\n    const resourceRequest = new ResourceRequest(\n      this._config.acquireTimeoutMillis,\n      this._Promise\n    );\n    this._waitingClientsQueue.enqueue(resourceRequest, priority);\n    this._dispense();\n\n    return resourceRequest.promise;\n  }\n\n  /**\n   * [use method, aquires a resource, passes the resource to a user supplied function and releases it]\n   * @param  {Function} fn [a function that accepts a resource and returns a promise that resolves/rejects once it has finished using the resource]\n   * @return {Promise}      [resolves once the resource is released to the pool]\n   */\n  use(fn, priority) {\n    return this.acquire(priority).then(resource => {\n      return fn(resource).then(\n        result => {\n          this.release(resource);\n          return result;\n        },\n        err => {\n          this.destroy(resource);\n          throw err;\n        }\n      );\n    });\n  }\n\n  /**\n   * Check if resource is currently on loan from the pool\n   *\n   * @param {Function} resource\n   *    Resource for checking.\n   *\n   * @returns {Boolean}\n   *  True if resource belongs to this pool and false otherwise\n   */\n  isBorrowedResource(resource) {\n    return this._resourceLoans.has(resource);\n  }\n\n  /**\n   * Return the resource to the pool when it is no longer required.\n   *\n   * @param {Object} resource\n   *   The acquired object to be put back to the pool.\n   */\n  release(resource) {\n    // check for an outstanding loan\n    const loan = this._resourceLoans.get(resource);\n\n    if (loan === undefined) {\n      return this._Promise.reject(\n        new Error(\"Resource not currently part of this pool\")\n      );\n    }\n\n    this._resourceLoans.delete(resource);\n    loan.resolve();\n    const pooledResource = loan.pooledResource;\n\n    pooledResource.deallocate();\n    this._addPooledResourceToAvailableObjects(pooledResource);\n\n    this._dispense();\n    return this._Promise.resolve();\n  }\n\n  /**\n   * Request the resource to be destroyed. The factory's destroy handler\n   * will also be called.\n   *\n   * This should be called within an acquire() block as an alternative to release().\n   *\n   * @param {Object} resource\n   *   The acquired resource to be destoyed.\n   */\n  destroy(resource) {\n    // check for an outstanding loan\n    const loan = this._resourceLoans.get(resource);\n\n    if (loan === undefined) {\n      return this._Promise.reject(\n        new Error(\"Resource not currently part of this pool\")\n      );\n    }\n\n    this._resourceLoans.delete(resource);\n    loan.resolve();\n    const pooledResource = loan.pooledResource;\n\n    pooledResource.deallocate();\n    this._destroy(pooledResource);\n\n    this._dispense();\n    return this._Promise.resolve();\n  }\n\n  _addPooledResourceToAvailableObjects(pooledResource) {\n    pooledResource.idle();\n    if (this._config.fifo === true) {\n      this._availableObjects.push(pooledResource);\n    } else {\n      this._availableObjects.unshift(pooledResource);\n    }\n  }\n\n  /**\n   * Disallow any new acquire calls and let the request backlog dissapate.\n   * The Pool will no longer attempt to maintain a \"min\" number of resources\n   * and will only make new resources on demand.\n   * Resolves once all resource requests are fulfilled and all resources are returned to pool and available...\n   * Should probably be called \"drain work\"\n   * @returns {Promise}\n   */\n  drain() {\n    this._draining = true;\n    return this.__allResourceRequestsSettled()\n      .then(() => {\n        return this.__allResourcesReturned();\n      })\n      .then(() => {\n        this._descheduleEvictorRun();\n      });\n  }\n\n  __allResourceRequestsSettled() {\n    if (this._waitingClientsQueue.length > 0) {\n      // wait for last waiting client to be settled\n      // FIXME: what if they can \"resolve\" out of order....?\n      return reflector(this._waitingClientsQueue.tail.promise);\n    }\n    return this._Promise.resolve();\n  }\n\n  // FIXME: this is a horrific mess\n  __allResourcesReturned() {\n    const ps = Array.from(this._resourceLoans.values())\n      .map(loan => loan.promise)\n      .map(reflector);\n    return this._Promise.all(ps);\n  }\n\n  /**\n   * Forcibly destroys all available resources regardless of timeout.  Intended to be\n   * invoked as part of a drain.  Does not prevent the creation of new\n   * resources as a result of subsequent calls to acquire.\n   *\n   * Note that if factory.min > 0 and the pool isn't \"draining\", the pool will destroy all idle resources\n   * in the pool, but replace them with newly created resources up to the\n   * specified factory.min value.  If this is not desired, set factory.min\n   * to zero before calling clear()\n   *\n   */\n  clear() {\n    const reflectedCreatePromises = Array.from(\n      this._factoryCreateOperations\n    ).map(reflector);\n\n    // wait for outstanding factory.create to complete\n    return this._Promise.all(reflectedCreatePromises).then(() => {\n      // Destroy existing resources\n      // @ts-ignore\n      for (const resource of this._availableObjects) {\n        this._destroy(resource);\n      }\n      const reflectedDestroyPromises = Array.from(\n        this._factoryDestroyOperations\n      ).map(reflector);\n      return reflector(this._Promise.all(reflectedDestroyPromises));\n    });\n  }\n\n  /**\n   * Waits until the pool is ready.\n   * We define ready by checking if the current resource number is at least\n   * the minimum number defined.\n   * @returns {Promise} that resolves when the minimum number is ready.\n   */\n  ready() {\n    return new this._Promise(resolve => {\n      const isReady = () => {\n        if (this.available >= this.min) {\n          resolve();\n        } else {\n          setTimeout(isReady, 100);\n        }\n      };\n\n      isReady();\n    });\n  }\n\n  /**\n   * How many resources are available to allocated\n   * (includes resources that have not been tested and may faul validation)\n   * NOTE: internal for now as the name is awful and might not be useful to anyone\n   * @return {Number} number of resources the pool has to allocate\n   */\n  get _potentiallyAllocableResourceCount() {\n    return (\n      this._availableObjects.length +\n      this._testOnBorrowResources.size +\n      this._testOnReturnResources.size +\n      this._factoryCreateOperations.size\n    );\n  }\n\n  /**\n   * The combined count of the currently created objects and those in the\n   * process of being created\n   * Does NOT include resources in the process of being destroyed\n   * sort of legacy...\n   * @return {Number}\n   */\n  get _count() {\n    return this._allObjects.size + this._factoryCreateOperations.size;\n  }\n\n  /**\n   * How many more resources does the pool have room for\n   * @return {Number} number of resources the pool could create before hitting any limits\n   */\n  get spareResourceCapacity() {\n    return (\n      this._config.max -\n      (this._allObjects.size + this._factoryCreateOperations.size)\n    );\n  }\n\n  /**\n   * see _count above\n   * @return {Number} [description]\n   */\n  get size() {\n    return this._count;\n  }\n\n  /**\n   * number of available resources\n   * @return {Number} [description]\n   */\n  get available() {\n    return this._availableObjects.length;\n  }\n\n  /**\n   * number of resources that are currently acquired\n   * @return {Number} [description]\n   */\n  get borrowed() {\n    return this._resourceLoans.size;\n  }\n\n  /**\n   * number of waiting acquire calls\n   * @return {Number} [description]\n   */\n  get pending() {\n    return this._waitingClientsQueue.length;\n  }\n\n  /**\n   * maximum size of the pool\n   * @return {Number} [description]\n   */\n  get max() {\n    return this._config.max;\n  }\n\n  /**\n   * minimum size of the pool\n   * @return {Number} [description]\n   */\n  get min() {\n    return this._config.min;\n  }\n}\n\nmodule.exports = Pool;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL2dlbmVyaWMtcG9vbC9saWIvUG9vbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixxQkFBcUIsMERBQThCOztBQUVuRCx5QkFBeUIsbUJBQU8sQ0FBQyx5RkFBb0I7QUFDckQsb0JBQW9CLG1CQUFPLENBQUMsK0VBQWU7QUFDM0Msd0JBQXdCLG1CQUFPLENBQUMsdUZBQW1CO0FBQ25ELHFCQUFxQixtQkFBTyxDQUFDLGlGQUFnQjtBQUM3Qyx1QkFBdUIsbUJBQU8sQ0FBQyxxRkFBa0I7QUFDakQsdUJBQXVCLG1CQUFPLENBQUMscUZBQWtCO0FBQ2pELGNBQWMsbUJBQU8sQ0FBQyxtRUFBUztBQUMvQixpQkFBaUIsbUJBQU8sQ0FBQyx5RUFBWTtBQUNyQyxzQkFBc0IsbUJBQU8sQ0FBQyxtRkFBaUI7QUFDL0Msc0JBQXNCLG1CQUFPLENBQUMsbUZBQWlCOztBQUUvQyxrQkFBa0Isb0dBQTRCOztBQUU5QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSx1QkFBdUI7QUFDcEMsYUFBYSxjQUFjO0FBQzNCLGFBQWEsc0JBQXNCO0FBQ25DLGFBQWEsUUFBUTtBQUNyQjtBQUNBLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0EsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQSxhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjLFNBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYyxTQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxQ0FBcUM7QUFDekQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiwyQ0FBMkM7QUFDakU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix1Q0FBdUM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnQkFBZ0I7QUFDOUIsY0FBYyx3QkFBd0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsS0FBSztBQUNuQixjQUFjLGVBQWU7QUFDN0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsMkJBQTJCO0FBQzFEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjLFVBQVU7QUFDeEIsY0FBYyxjQUFjO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcGx1czk5L2Nyb254LXVpLy4uLy4uL25vZGVfbW9kdWxlcy9nZW5lcmljLXBvb2wvbGliL1Bvb2wuanM/YTAzYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuY29uc3QgRXZlbnRFbWl0dGVyID0gcmVxdWlyZShcImV2ZW50c1wiKS5FdmVudEVtaXR0ZXI7XG5cbmNvbnN0IGZhY3RvcnlWYWxpZGF0b3IgPSByZXF1aXJlKFwiLi9mYWN0b3J5VmFsaWRhdG9yXCIpO1xuY29uc3QgUG9vbE9wdGlvbnMgPSByZXF1aXJlKFwiLi9Qb29sT3B0aW9uc1wiKTtcbmNvbnN0IFJlc291cmNlUmVxdWVzdCA9IHJlcXVpcmUoXCIuL1Jlc291cmNlUmVxdWVzdFwiKTtcbmNvbnN0IFJlc291cmNlTG9hbiA9IHJlcXVpcmUoXCIuL1Jlc291cmNlTG9hblwiKTtcbmNvbnN0IFBvb2xlZFJlc291cmNlID0gcmVxdWlyZShcIi4vUG9vbGVkUmVzb3VyY2VcIik7XG5jb25zdCBEZWZhdWx0RXZpY3RvciA9IHJlcXVpcmUoXCIuL0RlZmF1bHRFdmljdG9yXCIpO1xuY29uc3QgRGVxdWUgPSByZXF1aXJlKFwiLi9EZXF1ZVwiKTtcbmNvbnN0IERlZmVycmVkID0gcmVxdWlyZShcIi4vRGVmZXJyZWRcIik7XG5jb25zdCBQcmlvcml0eVF1ZXVlID0gcmVxdWlyZShcIi4vUHJpb3JpdHlRdWV1ZVwiKTtcbmNvbnN0IERlcXVlSXRlcmF0b3IgPSByZXF1aXJlKFwiLi9EZXF1ZUl0ZXJhdG9yXCIpO1xuXG5jb25zdCByZWZsZWN0b3IgPSByZXF1aXJlKFwiLi91dGlsc1wiKS5yZWZsZWN0b3I7XG5cbi8qKlxuICogVE9ETzogbW92ZSBtZVxuICovXG5jb25zdCBGQUNUT1JZX0NSRUFURV9FUlJPUiA9IFwiZmFjdG9yeUNyZWF0ZUVycm9yXCI7XG5jb25zdCBGQUNUT1JZX0RFU1RST1lfRVJST1IgPSBcImZhY3RvcnlEZXN0cm95RXJyb3JcIjtcblxuY2xhc3MgUG9vbCBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBhbiBPYmplY3QgcG9vbCB3aXRoIGEgc3BlY2lmaWVkIGBmYWN0b3J5YCBhbmQgYGNvbmZpZ2AuXG4gICAqXG4gICAqIEBwYXJhbSB7dHlwZW9mIERlZmF1bHRFdmljdG9yfSBFdmljdG9yXG4gICAqIEBwYXJhbSB7dHlwZW9mIERlcXVlfSBEZXF1ZVxuICAgKiBAcGFyYW0ge3R5cGVvZiBQcmlvcml0eVF1ZXVlfSBQcmlvcml0eVF1ZXVlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBmYWN0b3J5XG4gICAqICAgRmFjdG9yeSB0byBiZSB1c2VkIGZvciBnZW5lcmF0aW5nIGFuZCBkZXN0cm95aW5nIHRoZSBpdGVtcy5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmFjdG9yeS5jcmVhdGVcbiAgICogICBTaG91bGQgY3JlYXRlIHRoZSBpdGVtIHRvIGJlIGFjcXVpcmVkLFxuICAgKiAgIGFuZCBjYWxsIGl0J3MgZmlyc3QgY2FsbGJhY2sgYXJndW1lbnQgd2l0aCB0aGUgZ2VuZXJhdGVkIGl0ZW0gYXMgaXQncyBhcmd1bWVudC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmFjdG9yeS5kZXN0cm95XG4gICAqICAgU2hvdWxkIGdlbnRseSBjbG9zZSBhbnkgcmVzb3VyY2VzIHRoYXQgdGhlIGl0ZW0gaXMgdXNpbmcuXG4gICAqICAgQ2FsbGVkIGJlZm9yZSB0aGUgaXRlbXMgaXMgZGVzdHJveWVkLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmYWN0b3J5LnZhbGlkYXRlXG4gICAqICAgVGVzdCBpZiBhIHJlc291cmNlIGlzIHN0aWxsIHZhbGlkIC5TaG91bGQgcmV0dXJuIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgYm9vbGVhbiwgdHJ1ZSBpZiByZXNvdXJjZSBpcyBzdGlsbCB2YWxpZCBhbmQgZmFsc2VcbiAgICogICBJZiBpdCBzaG91bGQgYmUgcmVtb3ZlZCBmcm9tIHBvb2wuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqL1xuICBjb25zdHJ1Y3RvcihFdmljdG9yLCBEZXF1ZSwgUHJpb3JpdHlRdWV1ZSwgZmFjdG9yeSwgb3B0aW9ucykge1xuICAgIHN1cGVyKCk7XG5cbiAgICBmYWN0b3J5VmFsaWRhdG9yKGZhY3RvcnkpO1xuXG4gICAgdGhpcy5fY29uZmlnID0gbmV3IFBvb2xPcHRpb25zKG9wdGlvbnMpO1xuXG4gICAgLy8gVE9ETzogZml4IHVwIHRoaXMgdWdseSBnbHVlLWluZ1xuICAgIHRoaXMuX1Byb21pc2UgPSB0aGlzLl9jb25maWcuUHJvbWlzZTtcblxuICAgIHRoaXMuX2ZhY3RvcnkgPSBmYWN0b3J5O1xuICAgIHRoaXMuX2RyYWluaW5nID0gZmFsc2U7XG4gICAgdGhpcy5fc3RhcnRlZCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIEhvbGRzIHdhaXRpbmcgY2xpZW50c1xuICAgICAqIEB0eXBlIHtQcmlvcml0eVF1ZXVlfVxuICAgICAqL1xuICAgIHRoaXMuX3dhaXRpbmdDbGllbnRzUXVldWUgPSBuZXcgUHJpb3JpdHlRdWV1ZSh0aGlzLl9jb25maWcucHJpb3JpdHlSYW5nZSk7XG5cbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIHByb21pc2VzIGZvciByZXNvdXJjZSBjcmVhdGlvbiBjYWxscyBtYWRlIGJ5IHRoZSBwb29sIHRvIGZhY3RvcnkuY3JlYXRlXG4gICAgICogQHR5cGUge1NldH1cbiAgICAgKi9cbiAgICB0aGlzLl9mYWN0b3J5Q3JlYXRlT3BlcmF0aW9ucyA9IG5ldyBTZXQoKTtcblxuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgcHJvbWlzZXMgZm9yIHJlc291cmNlIGRlc3RydWN0aW9uIGNhbGxzIG1hZGUgYnkgdGhlIHBvb2wgdG8gZmFjdG9yeS5kZXN0cm95XG4gICAgICogQHR5cGUge1NldH1cbiAgICAgKi9cbiAgICB0aGlzLl9mYWN0b3J5RGVzdHJveU9wZXJhdGlvbnMgPSBuZXcgU2V0KCk7XG5cbiAgICAvKipcbiAgICAgKiBBIHF1ZXVlL3N0YWNrIG9mIHBvb2xlZFJlc291cmNlcyBhd2FpdGluZyBhY3F1aXNpdGlvblxuICAgICAqIFRPRE86IHJlcGxhY2Ugd2l0aCBMaW5rZWRMaXN0IGJhY2tlZCBhcnJheVxuICAgICAqIEB0eXBlIHtEZXF1ZX1cbiAgICAgKi9cbiAgICB0aGlzLl9hdmFpbGFibGVPYmplY3RzID0gbmV3IERlcXVlKCk7XG5cbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIHJlZmVyZW5jZXMgZm9yIGFueSByZXNvdXJjZSB0aGF0IGFyZSB1bmRlcmdvaW5nIHZhbGlkYXRpb24gYmVmb3JlIGJlaW5nIGFjcXVpcmVkXG4gICAgICogQHR5cGUge1NldH1cbiAgICAgKi9cbiAgICB0aGlzLl90ZXN0T25Cb3Jyb3dSZXNvdXJjZXMgPSBuZXcgU2V0KCk7XG5cbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIHJlZmVyZW5jZXMgZm9yIGFueSByZXNvdXJjZSB0aGF0IGFyZSB1bmRlcmdvaW5nIHZhbGlkYXRpb24gYmVmb3JlIGJlaW5nIHJldHVybmVkXG4gICAgICogQHR5cGUge1NldH1cbiAgICAgKi9cbiAgICB0aGlzLl90ZXN0T25SZXR1cm5SZXNvdXJjZXMgPSBuZXcgU2V0KCk7XG5cbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIHByb21pc2VzIGZvciBhbnkgdmFsaWRhdGlvbnMgY3VycmVudGx5IGluIHByb2Nlc3NcbiAgICAgKiBAdHlwZSB7U2V0fVxuICAgICAqL1xuICAgIHRoaXMuX3ZhbGlkYXRpb25PcGVyYXRpb25zID0gbmV3IFNldCgpO1xuXG4gICAgLyoqXG4gICAgICogQWxsIG9iamVjdHMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgcG9vbCBpbiBhbnkgc3RhdGUgKGV4Y2VwdCBkZXN0cm95ZWQpXG4gICAgICogQHR5cGUge1NldH1cbiAgICAgKi9cbiAgICB0aGlzLl9hbGxPYmplY3RzID0gbmV3IFNldCgpO1xuXG4gICAgLyoqXG4gICAgICogTG9hbnMga2V5ZWQgYnkgdGhlIGJvcnJvd2VkIHJlc291cmNlXG4gICAgICogQHR5cGUge01hcH1cbiAgICAgKi9cbiAgICB0aGlzLl9yZXNvdXJjZUxvYW5zID0gbmV3IE1hcCgpO1xuXG4gICAgLyoqXG4gICAgICogSW5maW5pdGVseSBsb29waW5nIGl0ZXJhdG9yIG92ZXIgYXZhaWxhYmxlIG9iamVjdFxuICAgICAqIEB0eXBlIHtEZXF1ZUl0ZXJhdG9yfVxuICAgICAqL1xuICAgIHRoaXMuX2V2aWN0aW9uSXRlcmF0b3IgPSB0aGlzLl9hdmFpbGFibGVPYmplY3RzLml0ZXJhdG9yKCk7XG5cbiAgICB0aGlzLl9ldmljdG9yID0gbmV3IEV2aWN0b3IoKTtcblxuICAgIC8qKlxuICAgICAqIGhhbmRsZSBmb3Igc2V0VGltZW91dCBmb3IgbmV4dCBldmljdGlvbiBydW5cbiAgICAgKiBAdHlwZSB7KG51bWJlcnxudWxsKX1cbiAgICAgKi9cbiAgICB0aGlzLl9zY2hlZHVsZWRFdmljdGlvbiA9IG51bGw7XG5cbiAgICAvLyBjcmVhdGUgaW5pdGlhbCByZXNvdXJjZXMgKGlmIGZhY3RvcnkubWluID4gMClcbiAgICBpZiAodGhpcy5fY29uZmlnLmF1dG9zdGFydCA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5zdGFydCgpO1xuICAgIH1cbiAgfVxuXG4gIF9kZXN0cm95KHBvb2xlZFJlc291cmNlKSB7XG4gICAgLy8gRklYTUU6IGRvIHdlIG5lZWQgYW5vdGhlciBzdGF0ZSBmb3IgXCJpbiBkZXN0cnVjdGlvblwiP1xuICAgIHBvb2xlZFJlc291cmNlLmludmFsaWRhdGUoKTtcbiAgICB0aGlzLl9hbGxPYmplY3RzLmRlbGV0ZShwb29sZWRSZXNvdXJjZSk7XG4gICAgLy8gTk9URTogdGhpcyBtYXliZSB2ZXJ5IGJhZCBwcm9taXNlIHVzYWdlP1xuICAgIGNvbnN0IGRlc3Ryb3lQcm9taXNlID0gdGhpcy5fZmFjdG9yeS5kZXN0cm95KHBvb2xlZFJlc291cmNlLm9iaik7XG4gICAgY29uc3Qgd3JhcHBlZERlc3Ryb3lQcm9taXNlID0gdGhpcy5fY29uZmlnLmRlc3Ryb3lUaW1lb3V0TWlsbGlzXG4gICAgICA/IHRoaXMuX1Byb21pc2UucmVzb2x2ZSh0aGlzLl9hcHBseURlc3Ryb3lUaW1lb3V0KGRlc3Ryb3lQcm9taXNlKSlcbiAgICAgIDogdGhpcy5fUHJvbWlzZS5yZXNvbHZlKGRlc3Ryb3lQcm9taXNlKTtcblxuICAgIHRoaXMuX3RyYWNrT3BlcmF0aW9uKFxuICAgICAgd3JhcHBlZERlc3Ryb3lQcm9taXNlLFxuICAgICAgdGhpcy5fZmFjdG9yeURlc3Ryb3lPcGVyYXRpb25zXG4gICAgKS5jYXRjaChyZWFzb24gPT4ge1xuICAgICAgdGhpcy5lbWl0KEZBQ1RPUllfREVTVFJPWV9FUlJPUiwgcmVhc29uKTtcbiAgICB9KTtcblxuICAgIC8vIFRPRE86IG1heWJlIGVuc3VyaW5nIG1pbmltdW0gcG9vbCBzaXplIHNob3VsZCBsaXZlIG91dHNpZGUgaGVyZVxuICAgIHRoaXMuX2Vuc3VyZU1pbmltdW0oKTtcbiAgfVxuXG4gIF9hcHBseURlc3Ryb3lUaW1lb3V0KHByb21pc2UpIHtcbiAgICBjb25zdCB0aW1lb3V0UHJvbWlzZSA9IG5ldyB0aGlzLl9Qcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICByZWplY3QobmV3IEVycm9yKFwiZGVzdHJveSB0aW1lZCBvdXRcIikpO1xuICAgICAgfSwgdGhpcy5fY29uZmlnLmRlc3Ryb3lUaW1lb3V0TWlsbGlzKS51bnJlZigpO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLl9Qcm9taXNlLnJhY2UoW3RpbWVvdXRQcm9taXNlLCBwcm9taXNlXSk7XG4gIH1cblxuICAvKipcbiAgICogQXR0ZW1wdCB0byBtb3ZlIGFuIGF2YWlsYWJsZSByZXNvdXJjZSBpbnRvIHRlc3QgYW5kIHRoZW4gb250byBhIHdhaXRpbmcgY2xpZW50XG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IGNvdWxkIHdlIG1vdmUgYW4gYXZhaWxhYmxlIHJlc291cmNlIGludG8gdGVzdFxuICAgKi9cbiAgX3Rlc3RPbkJvcnJvdygpIHtcbiAgICBpZiAodGhpcy5fYXZhaWxhYmxlT2JqZWN0cy5sZW5ndGggPCAxKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgcG9vbGVkUmVzb3VyY2UgPSB0aGlzLl9hdmFpbGFibGVPYmplY3RzLnNoaWZ0KCk7XG4gICAgLy8gTWFyayB0aGUgcmVzb3VyY2UgYXMgaW4gdGVzdFxuICAgIHBvb2xlZFJlc291cmNlLnRlc3QoKTtcbiAgICB0aGlzLl90ZXN0T25Cb3Jyb3dSZXNvdXJjZXMuYWRkKHBvb2xlZFJlc291cmNlKTtcbiAgICBjb25zdCB2YWxpZGF0aW9uUHJvbWlzZSA9IHRoaXMuX2ZhY3RvcnkudmFsaWRhdGUocG9vbGVkUmVzb3VyY2Uub2JqKTtcbiAgICBjb25zdCB3cmFwcGVkVmFsaWRhdGlvblByb21pc2UgPSB0aGlzLl9Qcm9taXNlLnJlc29sdmUodmFsaWRhdGlvblByb21pc2UpO1xuXG4gICAgdGhpcy5fdHJhY2tPcGVyYXRpb24oXG4gICAgICB3cmFwcGVkVmFsaWRhdGlvblByb21pc2UsXG4gICAgICB0aGlzLl92YWxpZGF0aW9uT3BlcmF0aW9uc1xuICAgICkudGhlbihpc1ZhbGlkID0+IHtcbiAgICAgIHRoaXMuX3Rlc3RPbkJvcnJvd1Jlc291cmNlcy5kZWxldGUocG9vbGVkUmVzb3VyY2UpO1xuXG4gICAgICBpZiAoaXNWYWxpZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcG9vbGVkUmVzb3VyY2UuaW52YWxpZGF0ZSgpO1xuICAgICAgICB0aGlzLl9kZXN0cm95KHBvb2xlZFJlc291cmNlKTtcbiAgICAgICAgdGhpcy5fZGlzcGVuc2UoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fZGlzcGF0Y2hQb29sZWRSZXNvdXJjZVRvTmV4dFdhaXRpbmdDbGllbnQocG9vbGVkUmVzb3VyY2UpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQXR0ZW1wdCB0byBtb3ZlIGFuIGF2YWlsYWJsZSByZXNvdXJjZSB0byBhIHdhaXRpbmcgY2xpZW50XG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IFtkZXNjcmlwdGlvbl1cbiAgICovXG4gIF9kaXNwYXRjaFJlc291cmNlKCkge1xuICAgIGlmICh0aGlzLl9hdmFpbGFibGVPYmplY3RzLmxlbmd0aCA8IDEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBwb29sZWRSZXNvdXJjZSA9IHRoaXMuX2F2YWlsYWJsZU9iamVjdHMuc2hpZnQoKTtcbiAgICB0aGlzLl9kaXNwYXRjaFBvb2xlZFJlc291cmNlVG9OZXh0V2FpdGluZ0NsaWVudChwb29sZWRSZXNvdXJjZSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEF0dGVtcHQgdG8gcmVzb2x2ZSBhbiBvdXRzdGFuZGluZyByZXNvdXJjZSByZXF1ZXN0IHVzaW5nIGFuIGF2YWlsYWJsZSByZXNvdXJjZSBmcm9tXG4gICAqIHRoZSBwb29sLCBvciBjcmVhdGluZyBuZXcgb25lc1xuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2Rpc3BlbnNlKCkge1xuICAgIC8qKlxuICAgICAqIExvY2FsIHZhcmlhYmxlcyBmb3IgZWFzZSBvZiByZWFkaW5nL3dyaXRpbmdcbiAgICAgKiB0aGVzZSBkb24ndCAoc2hvdWxkbid0KSBjaGFuZ2UgYWNyb3NzIHRoZSBleGVjdXRpb24gb2YgdGhpcyBmblxuICAgICAqL1xuICAgIGNvbnN0IG51bVdhaXRpbmdDbGllbnRzID0gdGhpcy5fd2FpdGluZ0NsaWVudHNRdWV1ZS5sZW5ndGg7XG5cbiAgICAvLyBJZiB0aGVyZSBhcmVuJ3QgYW55IHdhaXRpbmcgcmVxdWVzdHMgdGhlbiB0aGVyZSBpcyBub3RoaW5nIHRvIGRvXG4gICAgLy8gc28gbGV0cyBzaG9ydC1jaXJjdWl0XG4gICAgaWYgKG51bVdhaXRpbmdDbGllbnRzIDwgMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc291cmNlU2hvcnRmYWxsID1cbiAgICAgIG51bVdhaXRpbmdDbGllbnRzIC0gdGhpcy5fcG90ZW50aWFsbHlBbGxvY2FibGVSZXNvdXJjZUNvdW50O1xuXG4gICAgY29uc3QgYWN0dWFsTnVtYmVyT2ZSZXNvdXJjZXNUb0NyZWF0ZSA9IE1hdGgubWluKFxuICAgICAgdGhpcy5zcGFyZVJlc291cmNlQ2FwYWNpdHksXG4gICAgICByZXNvdXJjZVNob3J0ZmFsbFxuICAgICk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGFjdHVhbE51bWJlck9mUmVzb3VyY2VzVG9DcmVhdGUgPiBpOyBpKyspIHtcbiAgICAgIHRoaXMuX2NyZWF0ZVJlc291cmNlKCk7XG4gICAgfVxuXG4gICAgLy8gSWYgd2UgYXJlIGRvaW5nIHRlc3Qtb24tYm9ycm93IHNlZSBob3cgbWFueSBtb3JlIHJlc291cmNlcyBuZWVkIHRvIGJlIG1vdmVkIGludG8gdGVzdFxuICAgIC8vIHRvIGhlbHAgc2F0aXNmeSB3YWl0aW5nQ2xpZW50c1xuICAgIGlmICh0aGlzLl9jb25maWcudGVzdE9uQm9ycm93ID09PSB0cnVlKSB7XG4gICAgICAvLyBob3cgbWFueSBhdmFpbGFibGUgcmVzb3VyY2VzIGRvIHdlIG5lZWQgdG8gc2hpZnQgaW50byB0ZXN0XG4gICAgICBjb25zdCBkZXNpcmVkTnVtYmVyT2ZSZXNvdXJjZXNUb01vdmVJbnRvVGVzdCA9XG4gICAgICAgIG51bVdhaXRpbmdDbGllbnRzIC0gdGhpcy5fdGVzdE9uQm9ycm93UmVzb3VyY2VzLnNpemU7XG4gICAgICBjb25zdCBhY3R1YWxOdW1iZXJPZlJlc291cmNlc1RvTW92ZUludG9UZXN0ID0gTWF0aC5taW4oXG4gICAgICAgIHRoaXMuX2F2YWlsYWJsZU9iamVjdHMubGVuZ3RoLFxuICAgICAgICBkZXNpcmVkTnVtYmVyT2ZSZXNvdXJjZXNUb01vdmVJbnRvVGVzdFxuICAgICAgKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBhY3R1YWxOdW1iZXJPZlJlc291cmNlc1RvTW92ZUludG9UZXN0ID4gaTsgaSsrKSB7XG4gICAgICAgIHRoaXMuX3Rlc3RPbkJvcnJvdygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGlmIHdlIGFyZW4ndCB0ZXN0aW5nLW9uLWJvcnJvdyB0aGVuIGxldHMgdHJ5IHRvIGFsbG9jYXRlIHdoYXQgd2UgY2FuXG4gICAgaWYgKHRoaXMuX2NvbmZpZy50ZXN0T25Cb3Jyb3cgPT09IGZhbHNlKSB7XG4gICAgICBjb25zdCBhY3R1YWxOdW1iZXJPZlJlc291cmNlc1RvRGlzcGF0Y2ggPSBNYXRoLm1pbihcbiAgICAgICAgdGhpcy5fYXZhaWxhYmxlT2JqZWN0cy5sZW5ndGgsXG4gICAgICAgIG51bVdhaXRpbmdDbGllbnRzXG4gICAgICApO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGFjdHVhbE51bWJlck9mUmVzb3VyY2VzVG9EaXNwYXRjaCA+IGk7IGkrKykge1xuICAgICAgICB0aGlzLl9kaXNwYXRjaFJlc291cmNlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERpc3BhdGNoZXMgYSBwb29sZWRSZXNvdXJjZSB0byB0aGUgbmV4dCB3YWl0aW5nIGNsaWVudCAoaWYgYW55KSBlbHNlXG4gICAqIHB1dHMgdGhlIFBvb2xlZFJlc291cmNlIGJhY2sgb24gdGhlIGF2YWlsYWJsZSBsaXN0XG4gICAqIEBwYXJhbSAge1Bvb2xlZFJlc291cmNlfSBwb29sZWRSZXNvdXJjZSBbZGVzY3JpcHRpb25dXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59ICAgICAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cbiAgICovXG4gIF9kaXNwYXRjaFBvb2xlZFJlc291cmNlVG9OZXh0V2FpdGluZ0NsaWVudChwb29sZWRSZXNvdXJjZSkge1xuICAgIGNvbnN0IGNsaWVudFJlc291cmNlUmVxdWVzdCA9IHRoaXMuX3dhaXRpbmdDbGllbnRzUXVldWUuZGVxdWV1ZSgpO1xuICAgIGlmIChcbiAgICAgIGNsaWVudFJlc291cmNlUmVxdWVzdCA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICBjbGllbnRSZXNvdXJjZVJlcXVlc3Quc3RhdGUgIT09IERlZmVycmVkLlBFTkRJTkdcbiAgICApIHtcbiAgICAgIC8vIFdoaWxlIHdlIHdlcmUgYXdheSBlaXRoZXIgYWxsIHRoZSB3YWl0aW5nIGNsaWVudHMgdGltZWQgb3V0XG4gICAgICAvLyBvciB3ZXJlIHNvbWVob3cgZnVsZmlsbGVkLiBwdXQgb3VyIHBvb2xlZFJlc291cmNlIGJhY2suXG4gICAgICB0aGlzLl9hZGRQb29sZWRSZXNvdXJjZVRvQXZhaWxhYmxlT2JqZWN0cyhwb29sZWRSZXNvdXJjZSk7XG4gICAgICAvLyBUT0RPOiBkbyBuZWVkIHRvIHRyaWdnZXIgYW55dGhpbmcgYmVmb3JlIHdlIGxlYXZlP1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBsb2FuID0gbmV3IFJlc291cmNlTG9hbihwb29sZWRSZXNvdXJjZSwgdGhpcy5fUHJvbWlzZSk7XG4gICAgdGhpcy5fcmVzb3VyY2VMb2Fucy5zZXQocG9vbGVkUmVzb3VyY2Uub2JqLCBsb2FuKTtcbiAgICBwb29sZWRSZXNvdXJjZS5hbGxvY2F0ZSgpO1xuICAgIGNsaWVudFJlc291cmNlUmVxdWVzdC5yZXNvbHZlKHBvb2xlZFJlc291cmNlLm9iaik7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogdHJhY2tzIG9uIG9wZXJhdGlvbiB1c2luZyBnaXZlbiBzZXRcbiAgICogaGFuZGxlcyBhZGRpbmcvcmVtb3ZpbmcgZnJvbSB0aGUgc2V0IGFuZCByZXNvbHZlL3JlamVjdHMgdGhlIHZhbHVlL3JlYXNvblxuICAgKiBAcGFyYW0gIHtQcm9taXNlfSBvcGVyYXRpb25cbiAgICogQHBhcmFtICB7U2V0fSBzZXQgICAgICAgU2V0IGhvbGRpbmcgb3BlcmF0aW9uc1xuICAgKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgICBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgb25jZSBvcGVyYXRpb24gaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIHNldFxuICAgKi9cbiAgX3RyYWNrT3BlcmF0aW9uKG9wZXJhdGlvbiwgc2V0KSB7XG4gICAgc2V0LmFkZChvcGVyYXRpb24pO1xuXG4gICAgcmV0dXJuIG9wZXJhdGlvbi50aGVuKFxuICAgICAgdiA9PiB7XG4gICAgICAgIHNldC5kZWxldGUob3BlcmF0aW9uKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX1Byb21pc2UucmVzb2x2ZSh2KTtcbiAgICAgIH0sXG4gICAgICBlID0+IHtcbiAgICAgICAgc2V0LmRlbGV0ZShvcGVyYXRpb24pO1xuICAgICAgICByZXR1cm4gdGhpcy5fUHJvbWlzZS5yZWplY3QoZSk7XG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NyZWF0ZVJlc291cmNlKCkge1xuICAgIC8vIEFuIGF0dGVtcHQgdG8gY3JlYXRlIGEgcmVzb3VyY2VcbiAgICBjb25zdCBmYWN0b3J5UHJvbWlzZSA9IHRoaXMuX2ZhY3RvcnkuY3JlYXRlKCk7XG4gICAgY29uc3Qgd3JhcHBlZEZhY3RvcnlQcm9taXNlID0gdGhpcy5fUHJvbWlzZVxuICAgICAgLnJlc29sdmUoZmFjdG9yeVByb21pc2UpXG4gICAgICAudGhlbihyZXNvdXJjZSA9PiB7XG4gICAgICAgIGNvbnN0IHBvb2xlZFJlc291cmNlID0gbmV3IFBvb2xlZFJlc291cmNlKHJlc291cmNlKTtcbiAgICAgICAgdGhpcy5fYWxsT2JqZWN0cy5hZGQocG9vbGVkUmVzb3VyY2UpO1xuICAgICAgICB0aGlzLl9hZGRQb29sZWRSZXNvdXJjZVRvQXZhaWxhYmxlT2JqZWN0cyhwb29sZWRSZXNvdXJjZSk7XG4gICAgICB9KTtcblxuICAgIHRoaXMuX3RyYWNrT3BlcmF0aW9uKHdyYXBwZWRGYWN0b3J5UHJvbWlzZSwgdGhpcy5fZmFjdG9yeUNyZWF0ZU9wZXJhdGlvbnMpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMuX2Rpc3BlbnNlKCk7XG4gICAgICAgIC8vIFN0b3AgYmx1ZWJpcmQgY29tcGxhaW5pbmcgYWJvdXQgdGhpcyBzaWRlLWVmZmVjdCBvbmx5IGhhbmRsZXJcbiAgICAgICAgLy8gLSBhIHByb21pc2Ugd2FzIGNyZWF0ZWQgaW4gYSBoYW5kbGVyIGJ1dCB3YXMgbm90IHJldHVybmVkIGZyb20gaXRcbiAgICAgICAgLy8gaHR0cHM6Ly9nb28uZ2wvclJxTVV3XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChyZWFzb24gPT4ge1xuICAgICAgICB0aGlzLmVtaXQoRkFDVE9SWV9DUkVBVEVfRVJST1IsIHJlYXNvbik7XG4gICAgICAgIHRoaXMuX2Rpc3BlbnNlKCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2Vuc3VyZU1pbmltdW0oKSB7XG4gICAgaWYgKHRoaXMuX2RyYWluaW5nID09PSB0cnVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG1pblNob3J0ZmFsbCA9IHRoaXMuX2NvbmZpZy5taW4gLSB0aGlzLl9jb3VudDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1pblNob3J0ZmFsbDsgaSsrKSB7XG4gICAgICB0aGlzLl9jcmVhdGVSZXNvdXJjZSgpO1xuICAgIH1cbiAgfVxuXG4gIF9ldmljdCgpIHtcbiAgICBjb25zdCB0ZXN0c1RvUnVuID0gTWF0aC5taW4oXG4gICAgICB0aGlzLl9jb25maWcubnVtVGVzdHNQZXJFdmljdGlvblJ1bixcbiAgICAgIHRoaXMuX2F2YWlsYWJsZU9iamVjdHMubGVuZ3RoXG4gICAgKTtcbiAgICBjb25zdCBldmljdGlvbkNvbmZpZyA9IHtcbiAgICAgIHNvZnRJZGxlVGltZW91dE1pbGxpczogdGhpcy5fY29uZmlnLnNvZnRJZGxlVGltZW91dE1pbGxpcyxcbiAgICAgIGlkbGVUaW1lb3V0TWlsbGlzOiB0aGlzLl9jb25maWcuaWRsZVRpbWVvdXRNaWxsaXMsXG4gICAgICBtaW46IHRoaXMuX2NvbmZpZy5taW5cbiAgICB9O1xuICAgIGZvciAobGV0IHRlc3RzSGF2ZVJ1biA9IDA7IHRlc3RzSGF2ZVJ1biA8IHRlc3RzVG9SdW47ICkge1xuICAgICAgY29uc3QgaXRlcmF0aW9uUmVzdWx0ID0gdGhpcy5fZXZpY3Rpb25JdGVyYXRvci5uZXh0KCk7XG5cbiAgICAgIC8vIFNhZmV0eSBjaGVjayBpbmNhc2Ugd2UgY291bGQgZ2V0IHN0dWNrIGluIGluZmluaXRlIGxvb3AgYmVjYXVzZSB3ZVxuICAgICAgLy8gc29tZWhvdyBlbXB0aWVkIHRoZSBhcnJheSBhZnRlciBjaGVja2luZyBpdHMgbGVuZ3RoLlxuICAgICAgaWYgKGl0ZXJhdGlvblJlc3VsdC5kb25lID09PSB0cnVlICYmIHRoaXMuX2F2YWlsYWJsZU9iamVjdHMubGVuZ3RoIDwgMSkge1xuICAgICAgICB0aGlzLl9ldmljdGlvbkl0ZXJhdG9yLnJlc2V0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIElmIHRoaXMgaGFwcGVucyBpdCBzaG91bGQganVzdCBtZWFuIHdlIHJlYWNoZWQgdGhlIGVuZCBvZiB0aGVcbiAgICAgIC8vIGxpc3QgYW5kIGNhbiByZXNldCB0aGUgY3Vyc29yLlxuICAgICAgaWYgKGl0ZXJhdGlvblJlc3VsdC5kb25lID09PSB0cnVlICYmIHRoaXMuX2F2YWlsYWJsZU9iamVjdHMubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLl9ldmljdGlvbkl0ZXJhdG9yLnJlc2V0KCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXNvdXJjZSA9IGl0ZXJhdGlvblJlc3VsdC52YWx1ZTtcblxuICAgICAgY29uc3Qgc2hvdWxkRXZpY3QgPSB0aGlzLl9ldmljdG9yLmV2aWN0KFxuICAgICAgICBldmljdGlvbkNvbmZpZyxcbiAgICAgICAgcmVzb3VyY2UsXG4gICAgICAgIHRoaXMuX2F2YWlsYWJsZU9iamVjdHMubGVuZ3RoXG4gICAgICApO1xuICAgICAgdGVzdHNIYXZlUnVuKys7XG5cbiAgICAgIGlmIChzaG91bGRFdmljdCA9PT0gdHJ1ZSkge1xuICAgICAgICAvLyB0YWtlIGl0IG91dCBvZiB0aGUgX2F2YWlsYWJsZU9iamVjdHMgbGlzdFxuICAgICAgICB0aGlzLl9ldmljdGlvbkl0ZXJhdG9yLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLl9kZXN0cm95KHJlc291cmNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfc2NoZWR1bGVFdmljdG9yUnVuKCkge1xuICAgIC8vIFN0YXJ0IGV2aWN0aW9uIGlmIHNldFxuICAgIGlmICh0aGlzLl9jb25maWcuZXZpY3Rpb25SdW5JbnRlcnZhbE1pbGxpcyA+IDApIHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHRoaXMuX3NjaGVkdWxlZEV2aWN0aW9uID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuX2V2aWN0KCk7XG4gICAgICAgIHRoaXMuX3NjaGVkdWxlRXZpY3RvclJ1bigpO1xuICAgICAgfSwgdGhpcy5fY29uZmlnLmV2aWN0aW9uUnVuSW50ZXJ2YWxNaWxsaXMpLnVucmVmKCk7XG4gICAgfVxuICB9XG5cbiAgX2Rlc2NoZWR1bGVFdmljdG9yUnVuKCkge1xuICAgIGlmICh0aGlzLl9zY2hlZHVsZWRFdmljdGlvbikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3NjaGVkdWxlZEV2aWN0aW9uKTtcbiAgICB9XG4gICAgdGhpcy5fc2NoZWR1bGVkRXZpY3Rpb24gPSBudWxsO1xuICB9XG5cbiAgc3RhcnQoKSB7XG4gICAgaWYgKHRoaXMuX2RyYWluaW5nID09PSB0cnVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLl9zdGFydGVkID09PSB0cnVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX3N0YXJ0ZWQgPSB0cnVlO1xuICAgIHRoaXMuX3NjaGVkdWxlRXZpY3RvclJ1bigpO1xuICAgIHRoaXMuX2Vuc3VyZU1pbmltdW0oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXF1ZXN0IGEgbmV3IHJlc291cmNlLiBUaGUgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQsXG4gICAqIHdoZW4gYSBuZXcgcmVzb3VyY2UgaXMgYXZhaWxhYmxlLCBwYXNzaW5nIHRoZSByZXNvdXJjZSB0byB0aGUgY2FsbGJhY2suXG4gICAqIFRPRE86IHNob3VsZCB3ZSBhZGQgYSBzZXBlcmF0ZSBcImFjcXVpcmVXaXRoUHJpb3JpdHlcIiBmdW5jdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gW3ByaW9yaXR5PTBdXG4gICAqICAgT3B0aW9uYWwuICBJbnRlZ2VyIGJldHdlZW4gMCBhbmQgKHByaW9yaXR5UmFuZ2UgLSAxKS4gIFNwZWNpZmllcyB0aGUgcHJpb3JpdHlcbiAgICogICBvZiB0aGUgY2FsbGVyIGlmIHRoZXJlIGFyZSBubyBhdmFpbGFibGUgcmVzb3VyY2VzLiAgTG93ZXIgbnVtYmVycyBtZWFuIGhpZ2hlclxuICAgKiAgIHByaW9yaXR5LlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG4gIGFjcXVpcmUocHJpb3JpdHkpIHtcbiAgICBpZiAodGhpcy5fc3RhcnRlZCA9PT0gZmFsc2UgJiYgdGhpcy5fY29uZmlnLmF1dG9zdGFydCA9PT0gZmFsc2UpIHtcbiAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fZHJhaW5pbmcpIHtcbiAgICAgIHJldHVybiB0aGlzLl9Qcm9taXNlLnJlamVjdChcbiAgICAgICAgbmV3IEVycm9yKFwicG9vbCBpcyBkcmFpbmluZyBhbmQgY2Fubm90IGFjY2VwdCB3b3JrXCIpXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIFRPRE86IHNob3VsZCB3ZSBkZWZlciB0aGlzIGNoZWNrIHRpbGwgYWZ0ZXIgdGhpcyBldmVudCBsb29wIGluY2FzZSBcInRoZSBzaXR1YXRpb25cIiBjaGFuZ2VzIGluIHRoZSBtZWFudGltZVxuICAgIGlmIChcbiAgICAgIHRoaXMuc3BhcmVSZXNvdXJjZUNhcGFjaXR5IDwgMSAmJlxuICAgICAgdGhpcy5fYXZhaWxhYmxlT2JqZWN0cy5sZW5ndGggPCAxICYmXG4gICAgICB0aGlzLl9jb25maWcubWF4V2FpdGluZ0NsaWVudHMgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgdGhpcy5fd2FpdGluZ0NsaWVudHNRdWV1ZS5sZW5ndGggPj0gdGhpcy5fY29uZmlnLm1heFdhaXRpbmdDbGllbnRzXG4gICAgKSB7XG4gICAgICByZXR1cm4gdGhpcy5fUHJvbWlzZS5yZWplY3QoXG4gICAgICAgIG5ldyBFcnJvcihcIm1heCB3YWl0aW5nQ2xpZW50cyBjb3VudCBleGNlZWRlZFwiKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCByZXNvdXJjZVJlcXVlc3QgPSBuZXcgUmVzb3VyY2VSZXF1ZXN0KFxuICAgICAgdGhpcy5fY29uZmlnLmFjcXVpcmVUaW1lb3V0TWlsbGlzLFxuICAgICAgdGhpcy5fUHJvbWlzZVxuICAgICk7XG4gICAgdGhpcy5fd2FpdGluZ0NsaWVudHNRdWV1ZS5lbnF1ZXVlKHJlc291cmNlUmVxdWVzdCwgcHJpb3JpdHkpO1xuICAgIHRoaXMuX2Rpc3BlbnNlKCk7XG5cbiAgICByZXR1cm4gcmVzb3VyY2VSZXF1ZXN0LnByb21pc2U7XG4gIH1cblxuICAvKipcbiAgICogW3VzZSBtZXRob2QsIGFxdWlyZXMgYSByZXNvdXJjZSwgcGFzc2VzIHRoZSByZXNvdXJjZSB0byBhIHVzZXIgc3VwcGxpZWQgZnVuY3Rpb24gYW5kIHJlbGVhc2VzIGl0XVxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm4gW2EgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIGEgcmVzb3VyY2UgYW5kIHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMvcmVqZWN0cyBvbmNlIGl0IGhhcyBmaW5pc2hlZCB1c2luZyB0aGUgcmVzb3VyY2VdXG4gICAqIEByZXR1cm4ge1Byb21pc2V9ICAgICAgW3Jlc29sdmVzIG9uY2UgdGhlIHJlc291cmNlIGlzIHJlbGVhc2VkIHRvIHRoZSBwb29sXVxuICAgKi9cbiAgdXNlKGZuLCBwcmlvcml0eSkge1xuICAgIHJldHVybiB0aGlzLmFjcXVpcmUocHJpb3JpdHkpLnRoZW4ocmVzb3VyY2UgPT4ge1xuICAgICAgcmV0dXJuIGZuKHJlc291cmNlKS50aGVuKFxuICAgICAgICByZXN1bHQgPT4ge1xuICAgICAgICAgIHRoaXMucmVsZWFzZShyZXNvdXJjZSk7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSxcbiAgICAgICAgZXJyID0+IHtcbiAgICAgICAgICB0aGlzLmRlc3Ryb3kocmVzb3VyY2UpO1xuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiByZXNvdXJjZSBpcyBjdXJyZW50bHkgb24gbG9hbiBmcm9tIHRoZSBwb29sXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc291cmNlXG4gICAqICAgIFJlc291cmNlIGZvciBjaGVja2luZy5cbiAgICpcbiAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAqICBUcnVlIGlmIHJlc291cmNlIGJlbG9uZ3MgdG8gdGhpcyBwb29sIGFuZCBmYWxzZSBvdGhlcndpc2VcbiAgICovXG4gIGlzQm9ycm93ZWRSZXNvdXJjZShyZXNvdXJjZSkge1xuICAgIHJldHVybiB0aGlzLl9yZXNvdXJjZUxvYW5zLmhhcyhyZXNvdXJjZSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSByZXNvdXJjZSB0byB0aGUgcG9vbCB3aGVuIGl0IGlzIG5vIGxvbmdlciByZXF1aXJlZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHJlc291cmNlXG4gICAqICAgVGhlIGFjcXVpcmVkIG9iamVjdCB0byBiZSBwdXQgYmFjayB0byB0aGUgcG9vbC5cbiAgICovXG4gIHJlbGVhc2UocmVzb3VyY2UpIHtcbiAgICAvLyBjaGVjayBmb3IgYW4gb3V0c3RhbmRpbmcgbG9hblxuICAgIGNvbnN0IGxvYW4gPSB0aGlzLl9yZXNvdXJjZUxvYW5zLmdldChyZXNvdXJjZSk7XG5cbiAgICBpZiAobG9hbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5fUHJvbWlzZS5yZWplY3QoXG4gICAgICAgIG5ldyBFcnJvcihcIlJlc291cmNlIG5vdCBjdXJyZW50bHkgcGFydCBvZiB0aGlzIHBvb2xcIilcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVzb3VyY2VMb2Fucy5kZWxldGUocmVzb3VyY2UpO1xuICAgIGxvYW4ucmVzb2x2ZSgpO1xuICAgIGNvbnN0IHBvb2xlZFJlc291cmNlID0gbG9hbi5wb29sZWRSZXNvdXJjZTtcblxuICAgIHBvb2xlZFJlc291cmNlLmRlYWxsb2NhdGUoKTtcbiAgICB0aGlzLl9hZGRQb29sZWRSZXNvdXJjZVRvQXZhaWxhYmxlT2JqZWN0cyhwb29sZWRSZXNvdXJjZSk7XG5cbiAgICB0aGlzLl9kaXNwZW5zZSgpO1xuICAgIHJldHVybiB0aGlzLl9Qcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXF1ZXN0IHRoZSByZXNvdXJjZSB0byBiZSBkZXN0cm95ZWQuIFRoZSBmYWN0b3J5J3MgZGVzdHJveSBoYW5kbGVyXG4gICAqIHdpbGwgYWxzbyBiZSBjYWxsZWQuXG4gICAqXG4gICAqIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCB3aXRoaW4gYW4gYWNxdWlyZSgpIGJsb2NrIGFzIGFuIGFsdGVybmF0aXZlIHRvIHJlbGVhc2UoKS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHJlc291cmNlXG4gICAqICAgVGhlIGFjcXVpcmVkIHJlc291cmNlIHRvIGJlIGRlc3RveWVkLlxuICAgKi9cbiAgZGVzdHJveShyZXNvdXJjZSkge1xuICAgIC8vIGNoZWNrIGZvciBhbiBvdXRzdGFuZGluZyBsb2FuXG4gICAgY29uc3QgbG9hbiA9IHRoaXMuX3Jlc291cmNlTG9hbnMuZ2V0KHJlc291cmNlKTtcblxuICAgIGlmIChsb2FuID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9Qcm9taXNlLnJlamVjdChcbiAgICAgICAgbmV3IEVycm9yKFwiUmVzb3VyY2Ugbm90IGN1cnJlbnRseSBwYXJ0IG9mIHRoaXMgcG9vbFwiKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLl9yZXNvdXJjZUxvYW5zLmRlbGV0ZShyZXNvdXJjZSk7XG4gICAgbG9hbi5yZXNvbHZlKCk7XG4gICAgY29uc3QgcG9vbGVkUmVzb3VyY2UgPSBsb2FuLnBvb2xlZFJlc291cmNlO1xuXG4gICAgcG9vbGVkUmVzb3VyY2UuZGVhbGxvY2F0ZSgpO1xuICAgIHRoaXMuX2Rlc3Ryb3kocG9vbGVkUmVzb3VyY2UpO1xuXG4gICAgdGhpcy5fZGlzcGVuc2UoKTtcbiAgICByZXR1cm4gdGhpcy5fUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICBfYWRkUG9vbGVkUmVzb3VyY2VUb0F2YWlsYWJsZU9iamVjdHMocG9vbGVkUmVzb3VyY2UpIHtcbiAgICBwb29sZWRSZXNvdXJjZS5pZGxlKCk7XG4gICAgaWYgKHRoaXMuX2NvbmZpZy5maWZvID09PSB0cnVlKSB7XG4gICAgICB0aGlzLl9hdmFpbGFibGVPYmplY3RzLnB1c2gocG9vbGVkUmVzb3VyY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9hdmFpbGFibGVPYmplY3RzLnVuc2hpZnQocG9vbGVkUmVzb3VyY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNhbGxvdyBhbnkgbmV3IGFjcXVpcmUgY2FsbHMgYW5kIGxldCB0aGUgcmVxdWVzdCBiYWNrbG9nIGRpc3NhcGF0ZS5cbiAgICogVGhlIFBvb2wgd2lsbCBubyBsb25nZXIgYXR0ZW1wdCB0byBtYWludGFpbiBhIFwibWluXCIgbnVtYmVyIG9mIHJlc291cmNlc1xuICAgKiBhbmQgd2lsbCBvbmx5IG1ha2UgbmV3IHJlc291cmNlcyBvbiBkZW1hbmQuXG4gICAqIFJlc29sdmVzIG9uY2UgYWxsIHJlc291cmNlIHJlcXVlc3RzIGFyZSBmdWxmaWxsZWQgYW5kIGFsbCByZXNvdXJjZXMgYXJlIHJldHVybmVkIHRvIHBvb2wgYW5kIGF2YWlsYWJsZS4uLlxuICAgKiBTaG91bGQgcHJvYmFibHkgYmUgY2FsbGVkIFwiZHJhaW4gd29ya1wiXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKi9cbiAgZHJhaW4oKSB7XG4gICAgdGhpcy5fZHJhaW5pbmcgPSB0cnVlO1xuICAgIHJldHVybiB0aGlzLl9fYWxsUmVzb3VyY2VSZXF1ZXN0c1NldHRsZWQoKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fX2FsbFJlc291cmNlc1JldHVybmVkKCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLl9kZXNjaGVkdWxlRXZpY3RvclJ1bigpO1xuICAgICAgfSk7XG4gIH1cblxuICBfX2FsbFJlc291cmNlUmVxdWVzdHNTZXR0bGVkKCkge1xuICAgIGlmICh0aGlzLl93YWl0aW5nQ2xpZW50c1F1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIHdhaXQgZm9yIGxhc3Qgd2FpdGluZyBjbGllbnQgdG8gYmUgc2V0dGxlZFxuICAgICAgLy8gRklYTUU6IHdoYXQgaWYgdGhleSBjYW4gXCJyZXNvbHZlXCIgb3V0IG9mIG9yZGVyLi4uLj9cbiAgICAgIHJldHVybiByZWZsZWN0b3IodGhpcy5fd2FpdGluZ0NsaWVudHNRdWV1ZS50YWlsLnByb21pc2UpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICAvLyBGSVhNRTogdGhpcyBpcyBhIGhvcnJpZmljIG1lc3NcbiAgX19hbGxSZXNvdXJjZXNSZXR1cm5lZCgpIHtcbiAgICBjb25zdCBwcyA9IEFycmF5LmZyb20odGhpcy5fcmVzb3VyY2VMb2Fucy52YWx1ZXMoKSlcbiAgICAgIC5tYXAobG9hbiA9PiBsb2FuLnByb21pc2UpXG4gICAgICAubWFwKHJlZmxlY3Rvcik7XG4gICAgcmV0dXJuIHRoaXMuX1Byb21pc2UuYWxsKHBzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JjaWJseSBkZXN0cm95cyBhbGwgYXZhaWxhYmxlIHJlc291cmNlcyByZWdhcmRsZXNzIG9mIHRpbWVvdXQuICBJbnRlbmRlZCB0byBiZVxuICAgKiBpbnZva2VkIGFzIHBhcnQgb2YgYSBkcmFpbi4gIERvZXMgbm90IHByZXZlbnQgdGhlIGNyZWF0aW9uIG9mIG5ld1xuICAgKiByZXNvdXJjZXMgYXMgYSByZXN1bHQgb2Ygc3Vic2VxdWVudCBjYWxscyB0byBhY3F1aXJlLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgaWYgZmFjdG9yeS5taW4gPiAwIGFuZCB0aGUgcG9vbCBpc24ndCBcImRyYWluaW5nXCIsIHRoZSBwb29sIHdpbGwgZGVzdHJveSBhbGwgaWRsZSByZXNvdXJjZXNcbiAgICogaW4gdGhlIHBvb2wsIGJ1dCByZXBsYWNlIHRoZW0gd2l0aCBuZXdseSBjcmVhdGVkIHJlc291cmNlcyB1cCB0byB0aGVcbiAgICogc3BlY2lmaWVkIGZhY3RvcnkubWluIHZhbHVlLiAgSWYgdGhpcyBpcyBub3QgZGVzaXJlZCwgc2V0IGZhY3RvcnkubWluXG4gICAqIHRvIHplcm8gYmVmb3JlIGNhbGxpbmcgY2xlYXIoKVxuICAgKlxuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgY29uc3QgcmVmbGVjdGVkQ3JlYXRlUHJvbWlzZXMgPSBBcnJheS5mcm9tKFxuICAgICAgdGhpcy5fZmFjdG9yeUNyZWF0ZU9wZXJhdGlvbnNcbiAgICApLm1hcChyZWZsZWN0b3IpO1xuXG4gICAgLy8gd2FpdCBmb3Igb3V0c3RhbmRpbmcgZmFjdG9yeS5jcmVhdGUgdG8gY29tcGxldGVcbiAgICByZXR1cm4gdGhpcy5fUHJvbWlzZS5hbGwocmVmbGVjdGVkQ3JlYXRlUHJvbWlzZXMpLnRoZW4oKCkgPT4ge1xuICAgICAgLy8gRGVzdHJveSBleGlzdGluZyByZXNvdXJjZXNcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGZvciAoY29uc3QgcmVzb3VyY2Ugb2YgdGhpcy5fYXZhaWxhYmxlT2JqZWN0cykge1xuICAgICAgICB0aGlzLl9kZXN0cm95KHJlc291cmNlKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlZmxlY3RlZERlc3Ryb3lQcm9taXNlcyA9IEFycmF5LmZyb20oXG4gICAgICAgIHRoaXMuX2ZhY3RvcnlEZXN0cm95T3BlcmF0aW9uc1xuICAgICAgKS5tYXAocmVmbGVjdG9yKTtcbiAgICAgIHJldHVybiByZWZsZWN0b3IodGhpcy5fUHJvbWlzZS5hbGwocmVmbGVjdGVkRGVzdHJveVByb21pc2VzKSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogV2FpdHMgdW50aWwgdGhlIHBvb2wgaXMgcmVhZHkuXG4gICAqIFdlIGRlZmluZSByZWFkeSBieSBjaGVja2luZyBpZiB0aGUgY3VycmVudCByZXNvdXJjZSBudW1iZXIgaXMgYXQgbGVhc3RcbiAgICogdGhlIG1pbmltdW0gbnVtYmVyIGRlZmluZWQuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIG1pbmltdW0gbnVtYmVyIGlzIHJlYWR5LlxuICAgKi9cbiAgcmVhZHkoKSB7XG4gICAgcmV0dXJuIG5ldyB0aGlzLl9Qcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgY29uc3QgaXNSZWFkeSA9ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuYXZhaWxhYmxlID49IHRoaXMubWluKSB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldFRpbWVvdXQoaXNSZWFkeSwgMTAwKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgaXNSZWFkeSgpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEhvdyBtYW55IHJlc291cmNlcyBhcmUgYXZhaWxhYmxlIHRvIGFsbG9jYXRlZFxuICAgKiAoaW5jbHVkZXMgcmVzb3VyY2VzIHRoYXQgaGF2ZSBub3QgYmVlbiB0ZXN0ZWQgYW5kIG1heSBmYXVsIHZhbGlkYXRpb24pXG4gICAqIE5PVEU6IGludGVybmFsIGZvciBub3cgYXMgdGhlIG5hbWUgaXMgYXdmdWwgYW5kIG1pZ2h0IG5vdCBiZSB1c2VmdWwgdG8gYW55b25lXG4gICAqIEByZXR1cm4ge051bWJlcn0gbnVtYmVyIG9mIHJlc291cmNlcyB0aGUgcG9vbCBoYXMgdG8gYWxsb2NhdGVcbiAgICovXG4gIGdldCBfcG90ZW50aWFsbHlBbGxvY2FibGVSZXNvdXJjZUNvdW50KCkge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLl9hdmFpbGFibGVPYmplY3RzLmxlbmd0aCArXG4gICAgICB0aGlzLl90ZXN0T25Cb3Jyb3dSZXNvdXJjZXMuc2l6ZSArXG4gICAgICB0aGlzLl90ZXN0T25SZXR1cm5SZXNvdXJjZXMuc2l6ZSArXG4gICAgICB0aGlzLl9mYWN0b3J5Q3JlYXRlT3BlcmF0aW9ucy5zaXplXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgY29tYmluZWQgY291bnQgb2YgdGhlIGN1cnJlbnRseSBjcmVhdGVkIG9iamVjdHMgYW5kIHRob3NlIGluIHRoZVxuICAgKiBwcm9jZXNzIG9mIGJlaW5nIGNyZWF0ZWRcbiAgICogRG9lcyBOT1QgaW5jbHVkZSByZXNvdXJjZXMgaW4gdGhlIHByb2Nlc3Mgb2YgYmVpbmcgZGVzdHJveWVkXG4gICAqIHNvcnQgb2YgbGVnYWN5Li4uXG4gICAqIEByZXR1cm4ge051bWJlcn1cbiAgICovXG4gIGdldCBfY291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FsbE9iamVjdHMuc2l6ZSArIHRoaXMuX2ZhY3RvcnlDcmVhdGVPcGVyYXRpb25zLnNpemU7XG4gIH1cblxuICAvKipcbiAgICogSG93IG1hbnkgbW9yZSByZXNvdXJjZXMgZG9lcyB0aGUgcG9vbCBoYXZlIHJvb20gZm9yXG4gICAqIEByZXR1cm4ge051bWJlcn0gbnVtYmVyIG9mIHJlc291cmNlcyB0aGUgcG9vbCBjb3VsZCBjcmVhdGUgYmVmb3JlIGhpdHRpbmcgYW55IGxpbWl0c1xuICAgKi9cbiAgZ2V0IHNwYXJlUmVzb3VyY2VDYXBhY2l0eSgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5fY29uZmlnLm1heCAtXG4gICAgICAodGhpcy5fYWxsT2JqZWN0cy5zaXplICsgdGhpcy5fZmFjdG9yeUNyZWF0ZU9wZXJhdGlvbnMuc2l6ZSlcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIHNlZSBfY291bnQgYWJvdmVcbiAgICogQHJldHVybiB7TnVtYmVyfSBbZGVzY3JpcHRpb25dXG4gICAqL1xuICBnZXQgc2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fY291bnQ7XG4gIH1cblxuICAvKipcbiAgICogbnVtYmVyIG9mIGF2YWlsYWJsZSByZXNvdXJjZXNcbiAgICogQHJldHVybiB7TnVtYmVyfSBbZGVzY3JpcHRpb25dXG4gICAqL1xuICBnZXQgYXZhaWxhYmxlKCkge1xuICAgIHJldHVybiB0aGlzLl9hdmFpbGFibGVPYmplY3RzLmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBudW1iZXIgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIGN1cnJlbnRseSBhY3F1aXJlZFxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFtkZXNjcmlwdGlvbl1cbiAgICovXG4gIGdldCBib3Jyb3dlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVzb3VyY2VMb2Fucy5zaXplO1xuICB9XG5cbiAgLyoqXG4gICAqIG51bWJlciBvZiB3YWl0aW5nIGFjcXVpcmUgY2FsbHNcbiAgICogQHJldHVybiB7TnVtYmVyfSBbZGVzY3JpcHRpb25dXG4gICAqL1xuICBnZXQgcGVuZGluZygpIHtcbiAgICByZXR1cm4gdGhpcy5fd2FpdGluZ0NsaWVudHNRdWV1ZS5sZW5ndGg7XG4gIH1cblxuICAvKipcbiAgICogbWF4aW11bSBzaXplIG9mIHRoZSBwb29sXG4gICAqIEByZXR1cm4ge051bWJlcn0gW2Rlc2NyaXB0aW9uXVxuICAgKi9cbiAgZ2V0IG1heCgpIHtcbiAgICByZXR1cm4gdGhpcy5fY29uZmlnLm1heDtcbiAgfVxuXG4gIC8qKlxuICAgKiBtaW5pbXVtIHNpemUgb2YgdGhlIHBvb2xcbiAgICogQHJldHVybiB7TnVtYmVyfSBbZGVzY3JpcHRpb25dXG4gICAqL1xuICBnZXQgbWluKCkge1xuICAgIHJldHVybiB0aGlzLl9jb25maWcubWluO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUG9vbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/generic-pool/lib/Pool.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/generic-pool/lib/PoolDefaults.js":
/*!***********************************************************!*\
  !*** ../../node_modules/generic-pool/lib/PoolDefaults.js ***!
  \***********************************************************/
/***/ ((module) => {

"use strict";
eval("\n/**\n * Create the default settings used by the pool\n *\n * @class\n */\nclass PoolDefaults {\n  constructor() {\n    this.fifo = true;\n    this.priorityRange = 1;\n\n    this.testOnBorrow = false;\n    this.testOnReturn = false;\n\n    this.autostart = true;\n\n    this.evictionRunIntervalMillis = 0;\n    this.numTestsPerEvictionRun = 3;\n    this.softIdleTimeoutMillis = -1;\n    this.idleTimeoutMillis = 30000;\n\n    // FIXME: no defaults!\n    this.acquireTimeoutMillis = null;\n    this.destroyTimeoutMillis = null;\n    this.maxWaitingClients = null;\n\n    this.min = null;\n    this.max = null;\n    // FIXME: this seems odd?\n    this.Promise = Promise;\n  }\n}\n\nmodule.exports = PoolDefaults;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL2dlbmVyaWMtcG9vbC9saWIvUG9vbERlZmF1bHRzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBsdXM5OS9jcm9ueC11aS8uLi8uLi9ub2RlX21vZHVsZXMvZ2VuZXJpYy1wb29sL2xpYi9Qb29sRGVmYXVsdHMuanM/YzkxMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ3JlYXRlIHRoZSBkZWZhdWx0IHNldHRpbmdzIHVzZWQgYnkgdGhlIHBvb2xcbiAqXG4gKiBAY2xhc3NcbiAqL1xuY2xhc3MgUG9vbERlZmF1bHRzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5maWZvID0gdHJ1ZTtcbiAgICB0aGlzLnByaW9yaXR5UmFuZ2UgPSAxO1xuXG4gICAgdGhpcy50ZXN0T25Cb3Jyb3cgPSBmYWxzZTtcbiAgICB0aGlzLnRlc3RPblJldHVybiA9IGZhbHNlO1xuXG4gICAgdGhpcy5hdXRvc3RhcnQgPSB0cnVlO1xuXG4gICAgdGhpcy5ldmljdGlvblJ1bkludGVydmFsTWlsbGlzID0gMDtcbiAgICB0aGlzLm51bVRlc3RzUGVyRXZpY3Rpb25SdW4gPSAzO1xuICAgIHRoaXMuc29mdElkbGVUaW1lb3V0TWlsbGlzID0gLTE7XG4gICAgdGhpcy5pZGxlVGltZW91dE1pbGxpcyA9IDMwMDAwO1xuXG4gICAgLy8gRklYTUU6IG5vIGRlZmF1bHRzIVxuICAgIHRoaXMuYWNxdWlyZVRpbWVvdXRNaWxsaXMgPSBudWxsO1xuICAgIHRoaXMuZGVzdHJveVRpbWVvdXRNaWxsaXMgPSBudWxsO1xuICAgIHRoaXMubWF4V2FpdGluZ0NsaWVudHMgPSBudWxsO1xuXG4gICAgdGhpcy5taW4gPSBudWxsO1xuICAgIHRoaXMubWF4ID0gbnVsbDtcbiAgICAvLyBGSVhNRTogdGhpcyBzZWVtcyBvZGQ/XG4gICAgdGhpcy5Qcm9taXNlID0gUHJvbWlzZTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFBvb2xEZWZhdWx0cztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/generic-pool/lib/PoolDefaults.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/generic-pool/lib/PoolOptions.js":
/*!**********************************************************!*\
  !*** ../../node_modules/generic-pool/lib/PoolOptions.js ***!
  \**********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nconst PoolDefaults = __webpack_require__(/*! ./PoolDefaults */ \"(rsc)/../../node_modules/generic-pool/lib/PoolDefaults.js\");\n\nclass PoolOptions {\n  /**\n   * @param {Object} opts\n   *   configuration for the pool\n   * @param {Number} [opts.max=null]\n   *   Maximum number of items that can exist at the same time.  Default: 1.\n   *   Any further acquire requests will be pushed to the waiting list.\n   * @param {Number} [opts.min=null]\n   *   Minimum number of items in pool (including in-use). Default: 0.\n   *   When the pool is created, or a resource destroyed, this minimum will\n   *   be checked. If the pool resource count is below the minimum, a new\n   *   resource will be created and added to the pool.\n   * @param {Number} [opts.maxWaitingClients=null]\n   *   maximum number of queued requests allowed after which acquire calls will be rejected\n   * @param {Boolean} [opts.testOnBorrow=false]\n   *   should the pool validate resources before giving them to clients. Requires that\n   *   `factory.validate` is specified.\n   * @param {Boolean} [opts.testOnReturn=false]\n   *   should the pool validate resources before returning them to the pool.\n   * @param {Number} [opts.acquireTimeoutMillis=null]\n   *   Delay in milliseconds after which the an `acquire` call will fail. optional.\n   *   Default: undefined. Should be positive and non-zero\n   * @param {Number} [opts.destroyTimeoutMillis=null]\n   *   Delay in milliseconds after which the an `destroy` call will fail, causing it to emit a factoryDestroyError event. optional.\n   *   Default: undefined. Should be positive and non-zero\n   * @param {Number} [opts.priorityRange=1]\n   *   The range from 1 to be treated as a valid priority\n   * @param {Boolean} [opts.fifo=true]\n   *   Sets whether the pool has LIFO (last in, first out) behaviour with respect to idle objects.\n   *   if false then pool has FIFO behaviour\n   * @param {Boolean} [opts.autostart=true]\n   *   Should the pool start creating resources etc once the constructor is called\n   * @param {Number} [opts.evictionRunIntervalMillis=0]\n   *   How often to run eviction checks.  Default: 0 (does not run).\n   * @param {Number} [opts.numTestsPerEvictionRun=3]\n   *   Number of resources to check each eviction run.  Default: 3.\n   * @param {Number} [opts.softIdleTimeoutMillis=-1]\n   *   amount of time an object may sit idle in the pool before it is eligible\n   *   for eviction by the idle object evictor (if any), with the extra condition\n   *   that at least \"min idle\" object instances remain in the pool. Default -1 (nothing can get evicted)\n   * @param {Number} [opts.idleTimeoutMillis=30000]\n   *   the minimum amount of time that an object may sit idle in the pool before it is eligible for eviction\n   *   due to idle time. Supercedes \"softIdleTimeoutMillis\" Default: 30000\n   * @param {typeof Promise} [opts.Promise=Promise]\n   *   What promise implementation should the pool use, defaults to native promises.\n   */\n  constructor(opts) {\n    const poolDefaults = new PoolDefaults();\n\n    opts = opts || {};\n\n    this.fifo = typeof opts.fifo === \"boolean\" ? opts.fifo : poolDefaults.fifo;\n    this.priorityRange = opts.priorityRange || poolDefaults.priorityRange;\n\n    this.testOnBorrow =\n      typeof opts.testOnBorrow === \"boolean\"\n        ? opts.testOnBorrow\n        : poolDefaults.testOnBorrow;\n    this.testOnReturn =\n      typeof opts.testOnReturn === \"boolean\"\n        ? opts.testOnReturn\n        : poolDefaults.testOnReturn;\n\n    this.autostart =\n      typeof opts.autostart === \"boolean\"\n        ? opts.autostart\n        : poolDefaults.autostart;\n\n    if (opts.acquireTimeoutMillis) {\n      // @ts-ignore\n      this.acquireTimeoutMillis = parseInt(opts.acquireTimeoutMillis, 10);\n    }\n\n    if (opts.destroyTimeoutMillis) {\n      // @ts-ignore\n      this.destroyTimeoutMillis = parseInt(opts.destroyTimeoutMillis, 10);\n    }\n\n    if (opts.maxWaitingClients !== undefined) {\n      // @ts-ignore\n      this.maxWaitingClients = parseInt(opts.maxWaitingClients, 10);\n    }\n\n    // @ts-ignore\n    this.max = parseInt(opts.max, 10);\n    // @ts-ignore\n    this.min = parseInt(opts.min, 10);\n\n    this.max = Math.max(isNaN(this.max) ? 1 : this.max, 1);\n    this.min = Math.min(isNaN(this.min) ? 0 : this.min, this.max);\n\n    this.evictionRunIntervalMillis =\n      opts.evictionRunIntervalMillis || poolDefaults.evictionRunIntervalMillis;\n    this.numTestsPerEvictionRun =\n      opts.numTestsPerEvictionRun || poolDefaults.numTestsPerEvictionRun;\n    this.softIdleTimeoutMillis =\n      opts.softIdleTimeoutMillis || poolDefaults.softIdleTimeoutMillis;\n    this.idleTimeoutMillis =\n      opts.idleTimeoutMillis || poolDefaults.idleTimeoutMillis;\n\n    this.Promise = opts.Promise != null ? opts.Promise : poolDefaults.Promise;\n  }\n}\n\nmodule.exports = PoolOptions;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL2dlbmVyaWMtcG9vbC9saWIvUG9vbE9wdGlvbnMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIscUJBQXFCLG1CQUFPLENBQUMsaUZBQWdCOztBQUU3QztBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBLGFBQWEsZ0JBQWdCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBsdXM5OS9jcm9ueC11aS8uLi8uLi9ub2RlX21vZHVsZXMvZ2VuZXJpYy1wb29sL2xpYi9Qb29sT3B0aW9ucy5qcz81NTRjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCBQb29sRGVmYXVsdHMgPSByZXF1aXJlKFwiLi9Qb29sRGVmYXVsdHNcIik7XG5cbmNsYXNzIFBvb2xPcHRpb25zIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzXG4gICAqICAgY29uZmlndXJhdGlvbiBmb3IgdGhlIHBvb2xcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRzLm1heD1udWxsXVxuICAgKiAgIE1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY2FuIGV4aXN0IGF0IHRoZSBzYW1lIHRpbWUuICBEZWZhdWx0OiAxLlxuICAgKiAgIEFueSBmdXJ0aGVyIGFjcXVpcmUgcmVxdWVzdHMgd2lsbCBiZSBwdXNoZWQgdG8gdGhlIHdhaXRpbmcgbGlzdC5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRzLm1pbj1udWxsXVxuICAgKiAgIE1pbmltdW0gbnVtYmVyIG9mIGl0ZW1zIGluIHBvb2wgKGluY2x1ZGluZyBpbi11c2UpLiBEZWZhdWx0OiAwLlxuICAgKiAgIFdoZW4gdGhlIHBvb2wgaXMgY3JlYXRlZCwgb3IgYSByZXNvdXJjZSBkZXN0cm95ZWQsIHRoaXMgbWluaW11bSB3aWxsXG4gICAqICAgYmUgY2hlY2tlZC4gSWYgdGhlIHBvb2wgcmVzb3VyY2UgY291bnQgaXMgYmVsb3cgdGhlIG1pbmltdW0sIGEgbmV3XG4gICAqICAgcmVzb3VyY2Ugd2lsbCBiZSBjcmVhdGVkIGFuZCBhZGRlZCB0byB0aGUgcG9vbC5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRzLm1heFdhaXRpbmdDbGllbnRzPW51bGxdXG4gICAqICAgbWF4aW11bSBudW1iZXIgb2YgcXVldWVkIHJlcXVlc3RzIGFsbG93ZWQgYWZ0ZXIgd2hpY2ggYWNxdWlyZSBjYWxscyB3aWxsIGJlIHJlamVjdGVkXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdHMudGVzdE9uQm9ycm93PWZhbHNlXVxuICAgKiAgIHNob3VsZCB0aGUgcG9vbCB2YWxpZGF0ZSByZXNvdXJjZXMgYmVmb3JlIGdpdmluZyB0aGVtIHRvIGNsaWVudHMuIFJlcXVpcmVzIHRoYXRcbiAgICogICBgZmFjdG9yeS52YWxpZGF0ZWAgaXMgc3BlY2lmaWVkLlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRzLnRlc3RPblJldHVybj1mYWxzZV1cbiAgICogICBzaG91bGQgdGhlIHBvb2wgdmFsaWRhdGUgcmVzb3VyY2VzIGJlZm9yZSByZXR1cm5pbmcgdGhlbSB0byB0aGUgcG9vbC5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRzLmFjcXVpcmVUaW1lb3V0TWlsbGlzPW51bGxdXG4gICAqICAgRGVsYXkgaW4gbWlsbGlzZWNvbmRzIGFmdGVyIHdoaWNoIHRoZSBhbiBgYWNxdWlyZWAgY2FsbCB3aWxsIGZhaWwuIG9wdGlvbmFsLlxuICAgKiAgIERlZmF1bHQ6IHVuZGVmaW5lZC4gU2hvdWxkIGJlIHBvc2l0aXZlIGFuZCBub24temVyb1xuICAgKiBAcGFyYW0ge051bWJlcn0gW29wdHMuZGVzdHJveVRpbWVvdXRNaWxsaXM9bnVsbF1cbiAgICogICBEZWxheSBpbiBtaWxsaXNlY29uZHMgYWZ0ZXIgd2hpY2ggdGhlIGFuIGBkZXN0cm95YCBjYWxsIHdpbGwgZmFpbCwgY2F1c2luZyBpdCB0byBlbWl0IGEgZmFjdG9yeURlc3Ryb3lFcnJvciBldmVudC4gb3B0aW9uYWwuXG4gICAqICAgRGVmYXVsdDogdW5kZWZpbmVkLiBTaG91bGQgYmUgcG9zaXRpdmUgYW5kIG5vbi16ZXJvXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0cy5wcmlvcml0eVJhbmdlPTFdXG4gICAqICAgVGhlIHJhbmdlIGZyb20gMSB0byBiZSB0cmVhdGVkIGFzIGEgdmFsaWQgcHJpb3JpdHlcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0cy5maWZvPXRydWVdXG4gICAqICAgU2V0cyB3aGV0aGVyIHRoZSBwb29sIGhhcyBMSUZPIChsYXN0IGluLCBmaXJzdCBvdXQpIGJlaGF2aW91ciB3aXRoIHJlc3BlY3QgdG8gaWRsZSBvYmplY3RzLlxuICAgKiAgIGlmIGZhbHNlIHRoZW4gcG9vbCBoYXMgRklGTyBiZWhhdmlvdXJcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0cy5hdXRvc3RhcnQ9dHJ1ZV1cbiAgICogICBTaG91bGQgdGhlIHBvb2wgc3RhcnQgY3JlYXRpbmcgcmVzb3VyY2VzIGV0YyBvbmNlIHRoZSBjb25zdHJ1Y3RvciBpcyBjYWxsZWRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRzLmV2aWN0aW9uUnVuSW50ZXJ2YWxNaWxsaXM9MF1cbiAgICogICBIb3cgb2Z0ZW4gdG8gcnVuIGV2aWN0aW9uIGNoZWNrcy4gIERlZmF1bHQ6IDAgKGRvZXMgbm90IHJ1bikuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0cy5udW1UZXN0c1BlckV2aWN0aW9uUnVuPTNdXG4gICAqICAgTnVtYmVyIG9mIHJlc291cmNlcyB0byBjaGVjayBlYWNoIGV2aWN0aW9uIHJ1bi4gIERlZmF1bHQ6IDMuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0cy5zb2Z0SWRsZVRpbWVvdXRNaWxsaXM9LTFdXG4gICAqICAgYW1vdW50IG9mIHRpbWUgYW4gb2JqZWN0IG1heSBzaXQgaWRsZSBpbiB0aGUgcG9vbCBiZWZvcmUgaXQgaXMgZWxpZ2libGVcbiAgICogICBmb3IgZXZpY3Rpb24gYnkgdGhlIGlkbGUgb2JqZWN0IGV2aWN0b3IgKGlmIGFueSksIHdpdGggdGhlIGV4dHJhIGNvbmRpdGlvblxuICAgKiAgIHRoYXQgYXQgbGVhc3QgXCJtaW4gaWRsZVwiIG9iamVjdCBpbnN0YW5jZXMgcmVtYWluIGluIHRoZSBwb29sLiBEZWZhdWx0IC0xIChub3RoaW5nIGNhbiBnZXQgZXZpY3RlZClcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRzLmlkbGVUaW1lb3V0TWlsbGlzPTMwMDAwXVxuICAgKiAgIHRoZSBtaW5pbXVtIGFtb3VudCBvZiB0aW1lIHRoYXQgYW4gb2JqZWN0IG1heSBzaXQgaWRsZSBpbiB0aGUgcG9vbCBiZWZvcmUgaXQgaXMgZWxpZ2libGUgZm9yIGV2aWN0aW9uXG4gICAqICAgZHVlIHRvIGlkbGUgdGltZS4gU3VwZXJjZWRlcyBcInNvZnRJZGxlVGltZW91dE1pbGxpc1wiIERlZmF1bHQ6IDMwMDAwXG4gICAqIEBwYXJhbSB7dHlwZW9mIFByb21pc2V9IFtvcHRzLlByb21pc2U9UHJvbWlzZV1cbiAgICogICBXaGF0IHByb21pc2UgaW1wbGVtZW50YXRpb24gc2hvdWxkIHRoZSBwb29sIHVzZSwgZGVmYXVsdHMgdG8gbmF0aXZlIHByb21pc2VzLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0cykge1xuICAgIGNvbnN0IHBvb2xEZWZhdWx0cyA9IG5ldyBQb29sRGVmYXVsdHMoKTtcblxuICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gICAgdGhpcy5maWZvID0gdHlwZW9mIG9wdHMuZmlmbyA9PT0gXCJib29sZWFuXCIgPyBvcHRzLmZpZm8gOiBwb29sRGVmYXVsdHMuZmlmbztcbiAgICB0aGlzLnByaW9yaXR5UmFuZ2UgPSBvcHRzLnByaW9yaXR5UmFuZ2UgfHwgcG9vbERlZmF1bHRzLnByaW9yaXR5UmFuZ2U7XG5cbiAgICB0aGlzLnRlc3RPbkJvcnJvdyA9XG4gICAgICB0eXBlb2Ygb3B0cy50ZXN0T25Cb3Jyb3cgPT09IFwiYm9vbGVhblwiXG4gICAgICAgID8gb3B0cy50ZXN0T25Cb3Jyb3dcbiAgICAgICAgOiBwb29sRGVmYXVsdHMudGVzdE9uQm9ycm93O1xuICAgIHRoaXMudGVzdE9uUmV0dXJuID1cbiAgICAgIHR5cGVvZiBvcHRzLnRlc3RPblJldHVybiA9PT0gXCJib29sZWFuXCJcbiAgICAgICAgPyBvcHRzLnRlc3RPblJldHVyblxuICAgICAgICA6IHBvb2xEZWZhdWx0cy50ZXN0T25SZXR1cm47XG5cbiAgICB0aGlzLmF1dG9zdGFydCA9XG4gICAgICB0eXBlb2Ygb3B0cy5hdXRvc3RhcnQgPT09IFwiYm9vbGVhblwiXG4gICAgICAgID8gb3B0cy5hdXRvc3RhcnRcbiAgICAgICAgOiBwb29sRGVmYXVsdHMuYXV0b3N0YXJ0O1xuXG4gICAgaWYgKG9wdHMuYWNxdWlyZVRpbWVvdXRNaWxsaXMpIHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHRoaXMuYWNxdWlyZVRpbWVvdXRNaWxsaXMgPSBwYXJzZUludChvcHRzLmFjcXVpcmVUaW1lb3V0TWlsbGlzLCAxMCk7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuZGVzdHJveVRpbWVvdXRNaWxsaXMpIHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHRoaXMuZGVzdHJveVRpbWVvdXRNaWxsaXMgPSBwYXJzZUludChvcHRzLmRlc3Ryb3lUaW1lb3V0TWlsbGlzLCAxMCk7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMubWF4V2FpdGluZ0NsaWVudHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgdGhpcy5tYXhXYWl0aW5nQ2xpZW50cyA9IHBhcnNlSW50KG9wdHMubWF4V2FpdGluZ0NsaWVudHMsIDEwKTtcbiAgICB9XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdGhpcy5tYXggPSBwYXJzZUludChvcHRzLm1heCwgMTApO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICB0aGlzLm1pbiA9IHBhcnNlSW50KG9wdHMubWluLCAxMCk7XG5cbiAgICB0aGlzLm1heCA9IE1hdGgubWF4KGlzTmFOKHRoaXMubWF4KSA/IDEgOiB0aGlzLm1heCwgMSk7XG4gICAgdGhpcy5taW4gPSBNYXRoLm1pbihpc05hTih0aGlzLm1pbikgPyAwIDogdGhpcy5taW4sIHRoaXMubWF4KTtcblxuICAgIHRoaXMuZXZpY3Rpb25SdW5JbnRlcnZhbE1pbGxpcyA9XG4gICAgICBvcHRzLmV2aWN0aW9uUnVuSW50ZXJ2YWxNaWxsaXMgfHwgcG9vbERlZmF1bHRzLmV2aWN0aW9uUnVuSW50ZXJ2YWxNaWxsaXM7XG4gICAgdGhpcy5udW1UZXN0c1BlckV2aWN0aW9uUnVuID1cbiAgICAgIG9wdHMubnVtVGVzdHNQZXJFdmljdGlvblJ1biB8fCBwb29sRGVmYXVsdHMubnVtVGVzdHNQZXJFdmljdGlvblJ1bjtcbiAgICB0aGlzLnNvZnRJZGxlVGltZW91dE1pbGxpcyA9XG4gICAgICBvcHRzLnNvZnRJZGxlVGltZW91dE1pbGxpcyB8fCBwb29sRGVmYXVsdHMuc29mdElkbGVUaW1lb3V0TWlsbGlzO1xuICAgIHRoaXMuaWRsZVRpbWVvdXRNaWxsaXMgPVxuICAgICAgb3B0cy5pZGxlVGltZW91dE1pbGxpcyB8fCBwb29sRGVmYXVsdHMuaWRsZVRpbWVvdXRNaWxsaXM7XG5cbiAgICB0aGlzLlByb21pc2UgPSBvcHRzLlByb21pc2UgIT0gbnVsbCA/IG9wdHMuUHJvbWlzZSA6IHBvb2xEZWZhdWx0cy5Qcm9taXNlO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUG9vbE9wdGlvbnM7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/generic-pool/lib/PoolOptions.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/generic-pool/lib/PooledResource.js":
/*!*************************************************************!*\
  !*** ../../node_modules/generic-pool/lib/PooledResource.js ***!
  \*************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nconst PooledResourceStateEnum = __webpack_require__(/*! ./PooledResourceStateEnum */ \"(rsc)/../../node_modules/generic-pool/lib/PooledResourceStateEnum.js\");\n\n/**\n * @class\n * @private\n */\nclass PooledResource {\n  constructor(resource) {\n    this.creationTime = Date.now();\n    this.lastReturnTime = null;\n    this.lastBorrowTime = null;\n    this.lastIdleTime = null;\n    this.obj = resource;\n    this.state = PooledResourceStateEnum.IDLE;\n  }\n\n  // mark the resource as \"allocated\"\n  allocate() {\n    this.lastBorrowTime = Date.now();\n    this.state = PooledResourceStateEnum.ALLOCATED;\n  }\n\n  // mark the resource as \"deallocated\"\n  deallocate() {\n    this.lastReturnTime = Date.now();\n    this.state = PooledResourceStateEnum.IDLE;\n  }\n\n  invalidate() {\n    this.state = PooledResourceStateEnum.INVALID;\n  }\n\n  test() {\n    this.state = PooledResourceStateEnum.VALIDATION;\n  }\n\n  idle() {\n    this.lastIdleTime = Date.now();\n    this.state = PooledResourceStateEnum.IDLE;\n  }\n\n  returning() {\n    this.state = PooledResourceStateEnum.RETURNING;\n  }\n}\n\nmodule.exports = PooledResource;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL2dlbmVyaWMtcG9vbC9saWIvUG9vbGVkUmVzb3VyY2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0NBQWdDLG1CQUFPLENBQUMsdUdBQTJCOztBQUVuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BwbHVzOTkvY3JvbngtdWkvLi4vLi4vbm9kZV9tb2R1bGVzL2dlbmVyaWMtcG9vbC9saWIvUG9vbGVkUmVzb3VyY2UuanM/ZmIwMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuY29uc3QgUG9vbGVkUmVzb3VyY2VTdGF0ZUVudW0gPSByZXF1aXJlKFwiLi9Qb29sZWRSZXNvdXJjZVN0YXRlRW51bVwiKTtcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIFBvb2xlZFJlc291cmNlIHtcbiAgY29uc3RydWN0b3IocmVzb3VyY2UpIHtcbiAgICB0aGlzLmNyZWF0aW9uVGltZSA9IERhdGUubm93KCk7XG4gICAgdGhpcy5sYXN0UmV0dXJuVGltZSA9IG51bGw7XG4gICAgdGhpcy5sYXN0Qm9ycm93VGltZSA9IG51bGw7XG4gICAgdGhpcy5sYXN0SWRsZVRpbWUgPSBudWxsO1xuICAgIHRoaXMub2JqID0gcmVzb3VyY2U7XG4gICAgdGhpcy5zdGF0ZSA9IFBvb2xlZFJlc291cmNlU3RhdGVFbnVtLklETEU7XG4gIH1cblxuICAvLyBtYXJrIHRoZSByZXNvdXJjZSBhcyBcImFsbG9jYXRlZFwiXG4gIGFsbG9jYXRlKCkge1xuICAgIHRoaXMubGFzdEJvcnJvd1RpbWUgPSBEYXRlLm5vdygpO1xuICAgIHRoaXMuc3RhdGUgPSBQb29sZWRSZXNvdXJjZVN0YXRlRW51bS5BTExPQ0FURUQ7XG4gIH1cblxuICAvLyBtYXJrIHRoZSByZXNvdXJjZSBhcyBcImRlYWxsb2NhdGVkXCJcbiAgZGVhbGxvY2F0ZSgpIHtcbiAgICB0aGlzLmxhc3RSZXR1cm5UaW1lID0gRGF0ZS5ub3coKTtcbiAgICB0aGlzLnN0YXRlID0gUG9vbGVkUmVzb3VyY2VTdGF0ZUVudW0uSURMRTtcbiAgfVxuXG4gIGludmFsaWRhdGUoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IFBvb2xlZFJlc291cmNlU3RhdGVFbnVtLklOVkFMSUQ7XG4gIH1cblxuICB0ZXN0KCkge1xuICAgIHRoaXMuc3RhdGUgPSBQb29sZWRSZXNvdXJjZVN0YXRlRW51bS5WQUxJREFUSU9OO1xuICB9XG5cbiAgaWRsZSgpIHtcbiAgICB0aGlzLmxhc3RJZGxlVGltZSA9IERhdGUubm93KCk7XG4gICAgdGhpcy5zdGF0ZSA9IFBvb2xlZFJlc291cmNlU3RhdGVFbnVtLklETEU7XG4gIH1cblxuICByZXR1cm5pbmcoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IFBvb2xlZFJlc291cmNlU3RhdGVFbnVtLlJFVFVSTklORztcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFBvb2xlZFJlc291cmNlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/generic-pool/lib/PooledResource.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/generic-pool/lib/PooledResourceStateEnum.js":
/*!**********************************************************************!*\
  !*** ../../node_modules/generic-pool/lib/PooledResourceStateEnum.js ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nconst PooledResourceStateEnum = {\n  ALLOCATED: \"ALLOCATED\", // In use\n  IDLE: \"IDLE\", // In the queue, not in use.\n  INVALID: \"INVALID\", // Failed validation\n  RETURNING: \"RETURNING\", // Resource is in process of returning\n  VALIDATION: \"VALIDATION\" // Currently being tested\n};\n\nmodule.exports = PooledResourceStateEnum;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL2dlbmVyaWMtcG9vbC9saWIvUG9vbGVkUmVzb3VyY2VTdGF0ZUVudW0uanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcGx1czk5L2Nyb254LXVpLy4uLy4uL25vZGVfbW9kdWxlcy9nZW5lcmljLXBvb2wvbGliL1Bvb2xlZFJlc291cmNlU3RhdGVFbnVtLmpzPzE3MTgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IFBvb2xlZFJlc291cmNlU3RhdGVFbnVtID0ge1xuICBBTExPQ0FURUQ6IFwiQUxMT0NBVEVEXCIsIC8vIEluIHVzZVxuICBJRExFOiBcIklETEVcIiwgLy8gSW4gdGhlIHF1ZXVlLCBub3QgaW4gdXNlLlxuICBJTlZBTElEOiBcIklOVkFMSURcIiwgLy8gRmFpbGVkIHZhbGlkYXRpb25cbiAgUkVUVVJOSU5HOiBcIlJFVFVSTklOR1wiLCAvLyBSZXNvdXJjZSBpcyBpbiBwcm9jZXNzIG9mIHJldHVybmluZ1xuICBWQUxJREFUSU9OOiBcIlZBTElEQVRJT05cIiAvLyBDdXJyZW50bHkgYmVpbmcgdGVzdGVkXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBvb2xlZFJlc291cmNlU3RhdGVFbnVtO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/generic-pool/lib/PooledResourceStateEnum.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/generic-pool/lib/PriorityQueue.js":
/*!************************************************************!*\
  !*** ../../node_modules/generic-pool/lib/PriorityQueue.js ***!
  \************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nconst Queue = __webpack_require__(/*! ./Queue */ \"(rsc)/../../node_modules/generic-pool/lib/Queue.js\");\n\n/**\n * @class\n * @private\n */\nclass PriorityQueue {\n  constructor(size) {\n    this._size = Math.max(+size | 0, 1);\n    /** @type {Queue[]} */\n    this._slots = [];\n    // initialize arrays to hold queue elements\n    for (let i = 0; i < this._size; i++) {\n      this._slots.push(new Queue());\n    }\n  }\n\n  get length() {\n    let _length = 0;\n    for (let i = 0, slots = this._slots.length; i < slots; i++) {\n      _length += this._slots[i].length;\n    }\n    return _length;\n  }\n\n  enqueue(obj, priority) {\n    // Convert to integer with a default value of 0.\n    priority = (priority && +priority | 0) || 0;\n\n    if (priority) {\n      if (priority < 0 || priority >= this._size) {\n        priority = this._size - 1;\n        // put obj at the end of the line\n      }\n    }\n    this._slots[priority].push(obj);\n  }\n\n  dequeue() {\n    for (let i = 0, sl = this._slots.length; i < sl; i += 1) {\n      if (this._slots[i].length) {\n        return this._slots[i].shift();\n      }\n    }\n    return;\n  }\n\n  get head() {\n    for (let i = 0, sl = this._slots.length; i < sl; i += 1) {\n      if (this._slots[i].length > 0) {\n        return this._slots[i].head;\n      }\n    }\n    return;\n  }\n\n  get tail() {\n    for (let i = this._slots.length - 1; i >= 0; i--) {\n      if (this._slots[i].length > 0) {\n        return this._slots[i].tail;\n      }\n    }\n    return;\n  }\n}\n\nmodule.exports = PriorityQueue;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL2dlbmVyaWMtcG9vbC9saWIvUHJpb3JpdHlRdWV1ZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixjQUFjLG1CQUFPLENBQUMsbUVBQVM7O0FBRS9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQSxvQkFBb0IsZ0JBQWdCO0FBQ3BDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0RBQWdELFdBQVc7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw2Q0FBNkMsUUFBUTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw2Q0FBNkMsUUFBUTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx5Q0FBeUMsUUFBUTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BwbHVzOTkvY3JvbngtdWkvLi4vLi4vbm9kZV9tb2R1bGVzL2dlbmVyaWMtcG9vbC9saWIvUHJpb3JpdHlRdWV1ZS5qcz9mMjNkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCBRdWV1ZSA9IHJlcXVpcmUoXCIuL1F1ZXVlXCIpO1xuXG4vKipcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgUHJpb3JpdHlRdWV1ZSB7XG4gIGNvbnN0cnVjdG9yKHNpemUpIHtcbiAgICB0aGlzLl9zaXplID0gTWF0aC5tYXgoK3NpemUgfCAwLCAxKTtcbiAgICAvKiogQHR5cGUge1F1ZXVlW119ICovXG4gICAgdGhpcy5fc2xvdHMgPSBbXTtcbiAgICAvLyBpbml0aWFsaXplIGFycmF5cyB0byBob2xkIHF1ZXVlIGVsZW1lbnRzXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9zaXplOyBpKyspIHtcbiAgICAgIHRoaXMuX3Nsb3RzLnB1c2gobmV3IFF1ZXVlKCkpO1xuICAgIH1cbiAgfVxuXG4gIGdldCBsZW5ndGgoKSB7XG4gICAgbGV0IF9sZW5ndGggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwLCBzbG90cyA9IHRoaXMuX3Nsb3RzLmxlbmd0aDsgaSA8IHNsb3RzOyBpKyspIHtcbiAgICAgIF9sZW5ndGggKz0gdGhpcy5fc2xvdHNbaV0ubGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gX2xlbmd0aDtcbiAgfVxuXG4gIGVucXVldWUob2JqLCBwcmlvcml0eSkge1xuICAgIC8vIENvbnZlcnQgdG8gaW50ZWdlciB3aXRoIGEgZGVmYXVsdCB2YWx1ZSBvZiAwLlxuICAgIHByaW9yaXR5ID0gKHByaW9yaXR5ICYmICtwcmlvcml0eSB8IDApIHx8IDA7XG5cbiAgICBpZiAocHJpb3JpdHkpIHtcbiAgICAgIGlmIChwcmlvcml0eSA8IDAgfHwgcHJpb3JpdHkgPj0gdGhpcy5fc2l6ZSkge1xuICAgICAgICBwcmlvcml0eSA9IHRoaXMuX3NpemUgLSAxO1xuICAgICAgICAvLyBwdXQgb2JqIGF0IHRoZSBlbmQgb2YgdGhlIGxpbmVcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fc2xvdHNbcHJpb3JpdHldLnB1c2gob2JqKTtcbiAgfVxuXG4gIGRlcXVldWUoKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIHNsID0gdGhpcy5fc2xvdHMubGVuZ3RoOyBpIDwgc2w7IGkgKz0gMSkge1xuICAgICAgaWYgKHRoaXMuX3Nsb3RzW2ldLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2xvdHNbaV0uc2hpZnQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZ2V0IGhlYWQoKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIHNsID0gdGhpcy5fc2xvdHMubGVuZ3RoOyBpIDwgc2w7IGkgKz0gMSkge1xuICAgICAgaWYgKHRoaXMuX3Nsb3RzW2ldLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Nsb3RzW2ldLmhlYWQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIGdldCB0YWlsKCkge1xuICAgIGZvciAobGV0IGkgPSB0aGlzLl9zbG90cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgaWYgKHRoaXMuX3Nsb3RzW2ldLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Nsb3RzW2ldLnRhaWw7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFByaW9yaXR5UXVldWU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/generic-pool/lib/PriorityQueue.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/generic-pool/lib/Queue.js":
/*!****************************************************!*\
  !*** ../../node_modules/generic-pool/lib/Queue.js ***!
  \****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nconst DoublyLinkedList = __webpack_require__(/*! ./DoublyLinkedList */ \"(rsc)/../../node_modules/generic-pool/lib/DoublyLinkedList.js\");\nconst Deque = __webpack_require__(/*! ./Deque */ \"(rsc)/../../node_modules/generic-pool/lib/Deque.js\");\n\n/**\n * Sort of a internal queue for holding the waiting\n * resource requets for a given \"priority\".\n * Also handles managing timeouts rejections on items (is this the best place for this?)\n * This is the last point where we know which queue a resourceRequest is in\n *\n */\nclass Queue extends Deque {\n  /**\n   * Adds the obj to the end of the list for this slot\n   * we completely override the parent method because we need access to the\n   * node for our rejection handler\n   * @param {any} resourceRequest [description]\n   */\n  push(resourceRequest) {\n    const node = DoublyLinkedList.createNode(resourceRequest);\n    resourceRequest.promise.catch(this._createTimeoutRejectionHandler(node));\n    this._list.insertEnd(node);\n  }\n\n  _createTimeoutRejectionHandler(node) {\n    return reason => {\n      if (reason.name === \"TimeoutError\") {\n        this._list.remove(node);\n      }\n    };\n  }\n}\n\nmodule.exports = Queue;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL2dlbmVyaWMtcG9vbC9saWIvUXVldWUuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIseUJBQXlCLG1CQUFPLENBQUMseUZBQW9CO0FBQ3JELGNBQWMsbUJBQU8sQ0FBQyxtRUFBUzs7QUFFL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxLQUFLO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBsdXM5OS9jcm9ueC11aS8uLi8uLi9ub2RlX21vZHVsZXMvZ2VuZXJpYy1wb29sL2xpYi9RdWV1ZS5qcz9hYTZlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCBEb3VibHlMaW5rZWRMaXN0ID0gcmVxdWlyZShcIi4vRG91Ymx5TGlua2VkTGlzdFwiKTtcbmNvbnN0IERlcXVlID0gcmVxdWlyZShcIi4vRGVxdWVcIik7XG5cbi8qKlxuICogU29ydCBvZiBhIGludGVybmFsIHF1ZXVlIGZvciBob2xkaW5nIHRoZSB3YWl0aW5nXG4gKiByZXNvdXJjZSByZXF1ZXRzIGZvciBhIGdpdmVuIFwicHJpb3JpdHlcIi5cbiAqIEFsc28gaGFuZGxlcyBtYW5hZ2luZyB0aW1lb3V0cyByZWplY3Rpb25zIG9uIGl0ZW1zIChpcyB0aGlzIHRoZSBiZXN0IHBsYWNlIGZvciB0aGlzPylcbiAqIFRoaXMgaXMgdGhlIGxhc3QgcG9pbnQgd2hlcmUgd2Uga25vdyB3aGljaCBxdWV1ZSBhIHJlc291cmNlUmVxdWVzdCBpcyBpblxuICpcbiAqL1xuY2xhc3MgUXVldWUgZXh0ZW5kcyBEZXF1ZSB7XG4gIC8qKlxuICAgKiBBZGRzIHRoZSBvYmogdG8gdGhlIGVuZCBvZiB0aGUgbGlzdCBmb3IgdGhpcyBzbG90XG4gICAqIHdlIGNvbXBsZXRlbHkgb3ZlcnJpZGUgdGhlIHBhcmVudCBtZXRob2QgYmVjYXVzZSB3ZSBuZWVkIGFjY2VzcyB0byB0aGVcbiAgICogbm9kZSBmb3Igb3VyIHJlamVjdGlvbiBoYW5kbGVyXG4gICAqIEBwYXJhbSB7YW55fSByZXNvdXJjZVJlcXVlc3QgW2Rlc2NyaXB0aW9uXVxuICAgKi9cbiAgcHVzaChyZXNvdXJjZVJlcXVlc3QpIHtcbiAgICBjb25zdCBub2RlID0gRG91Ymx5TGlua2VkTGlzdC5jcmVhdGVOb2RlKHJlc291cmNlUmVxdWVzdCk7XG4gICAgcmVzb3VyY2VSZXF1ZXN0LnByb21pc2UuY2F0Y2godGhpcy5fY3JlYXRlVGltZW91dFJlamVjdGlvbkhhbmRsZXIobm9kZSkpO1xuICAgIHRoaXMuX2xpc3QuaW5zZXJ0RW5kKG5vZGUpO1xuICB9XG5cbiAgX2NyZWF0ZVRpbWVvdXRSZWplY3Rpb25IYW5kbGVyKG5vZGUpIHtcbiAgICByZXR1cm4gcmVhc29uID0+IHtcbiAgICAgIGlmIChyZWFzb24ubmFtZSA9PT0gXCJUaW1lb3V0RXJyb3JcIikge1xuICAgICAgICB0aGlzLl9saXN0LnJlbW92ZShub2RlKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUXVldWU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/generic-pool/lib/Queue.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/generic-pool/lib/ResourceLoan.js":
/*!***********************************************************!*\
  !*** ../../node_modules/generic-pool/lib/ResourceLoan.js ***!
  \***********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nconst Deferred = __webpack_require__(/*! ./Deferred */ \"(rsc)/../../node_modules/generic-pool/lib/Deferred.js\");\n\n/**\n * Plan is to maybe add tracking via Error objects\n * and other fun stuff!\n */\n\nclass ResourceLoan extends Deferred {\n  /**\n   *\n   * @param  {any} pooledResource the PooledResource this loan belongs to\n   * @return {any}                [description]\n   */\n  constructor(pooledResource, Promise) {\n    super(Promise);\n    this._creationTimestamp = Date.now();\n    this.pooledResource = pooledResource;\n  }\n\n  reject() {\n    /**\n     * Loans can only be resolved at the moment\n     */\n  }\n}\n\nmodule.exports = ResourceLoan;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL2dlbmVyaWMtcG9vbC9saWIvUmVzb3VyY2VMb2FuLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLGlCQUFpQixtQkFBTyxDQUFDLHlFQUFZOztBQUVyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLEtBQUs7QUFDbkIsY0FBYyxvQkFBb0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BwbHVzOTkvY3JvbngtdWkvLi4vLi4vbm9kZV9tb2R1bGVzL2dlbmVyaWMtcG9vbC9saWIvUmVzb3VyY2VMb2FuLmpzPzlmMWYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IERlZmVycmVkID0gcmVxdWlyZShcIi4vRGVmZXJyZWRcIik7XG5cbi8qKlxuICogUGxhbiBpcyB0byBtYXliZSBhZGQgdHJhY2tpbmcgdmlhIEVycm9yIG9iamVjdHNcbiAqIGFuZCBvdGhlciBmdW4gc3R1ZmYhXG4gKi9cblxuY2xhc3MgUmVzb3VyY2VMb2FuIGV4dGVuZHMgRGVmZXJyZWQge1xuICAvKipcbiAgICpcbiAgICogQHBhcmFtICB7YW55fSBwb29sZWRSZXNvdXJjZSB0aGUgUG9vbGVkUmVzb3VyY2UgdGhpcyBsb2FuIGJlbG9uZ3MgdG9cbiAgICogQHJldHVybiB7YW55fSAgICAgICAgICAgICAgICBbZGVzY3JpcHRpb25dXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihwb29sZWRSZXNvdXJjZSwgUHJvbWlzZSkge1xuICAgIHN1cGVyKFByb21pc2UpO1xuICAgIHRoaXMuX2NyZWF0aW9uVGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICB0aGlzLnBvb2xlZFJlc291cmNlID0gcG9vbGVkUmVzb3VyY2U7XG4gIH1cblxuICByZWplY3QoKSB7XG4gICAgLyoqXG4gICAgICogTG9hbnMgY2FuIG9ubHkgYmUgcmVzb2x2ZWQgYXQgdGhlIG1vbWVudFxuICAgICAqL1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUmVzb3VyY2VMb2FuO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/generic-pool/lib/ResourceLoan.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/generic-pool/lib/ResourceRequest.js":
/*!**************************************************************!*\
  !*** ../../node_modules/generic-pool/lib/ResourceRequest.js ***!
  \**************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nconst Deferred = __webpack_require__(/*! ./Deferred */ \"(rsc)/../../node_modules/generic-pool/lib/Deferred.js\");\nconst errors = __webpack_require__(/*! ./errors */ \"(rsc)/../../node_modules/generic-pool/lib/errors.js\");\n\nfunction fbind(fn, ctx) {\n  return function bound() {\n    return fn.apply(ctx, arguments);\n  };\n}\n\n/**\n * Wraps a users request for a resource\n * Basically a promise mashed in with a timeout\n * @private\n */\nclass ResourceRequest extends Deferred {\n  /**\n   * [constructor description]\n   * @param  {Number} ttl     timeout\n   */\n  constructor(ttl, Promise) {\n    super(Promise);\n    this._creationTimestamp = Date.now();\n    this._timeout = null;\n\n    if (ttl !== undefined) {\n      this.setTimeout(ttl);\n    }\n  }\n\n  setTimeout(delay) {\n    if (this._state !== ResourceRequest.PENDING) {\n      return;\n    }\n    const ttl = parseInt(delay, 10);\n\n    if (isNaN(ttl) || ttl <= 0) {\n      throw new Error(\"delay must be a positive int\");\n    }\n\n    const age = Date.now() - this._creationTimestamp;\n\n    if (this._timeout) {\n      this.removeTimeout();\n    }\n\n    this._timeout = setTimeout(\n      fbind(this._fireTimeout, this),\n      Math.max(ttl - age, 0)\n    );\n  }\n\n  removeTimeout() {\n    if (this._timeout) {\n      clearTimeout(this._timeout);\n    }\n    this._timeout = null;\n  }\n\n  _fireTimeout() {\n    this.reject(new errors.TimeoutError(\"ResourceRequest timed out\"));\n  }\n\n  reject(reason) {\n    this.removeTimeout();\n    super.reject(reason);\n  }\n\n  resolve(value) {\n    this.removeTimeout();\n    super.resolve(value);\n  }\n}\n\nmodule.exports = ResourceRequest;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL2dlbmVyaWMtcG9vbC9saWIvUmVzb3VyY2VSZXF1ZXN0LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLGlCQUFpQixtQkFBTyxDQUFDLHlFQUFZO0FBQ3JDLGVBQWUsbUJBQU8sQ0FBQyxxRUFBVTs7QUFFakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBsdXM5OS9jcm9ueC11aS8uLi8uLi9ub2RlX21vZHVsZXMvZ2VuZXJpYy1wb29sL2xpYi9SZXNvdXJjZVJlcXVlc3QuanM/NGViZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuY29uc3QgRGVmZXJyZWQgPSByZXF1aXJlKFwiLi9EZWZlcnJlZFwiKTtcbmNvbnN0IGVycm9ycyA9IHJlcXVpcmUoXCIuL2Vycm9yc1wiKTtcblxuZnVuY3Rpb24gZmJpbmQoZm4sIGN0eCkge1xuICByZXR1cm4gZnVuY3Rpb24gYm91bmQoKSB7XG4gICAgcmV0dXJuIGZuLmFwcGx5KGN0eCwgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBXcmFwcyBhIHVzZXJzIHJlcXVlc3QgZm9yIGEgcmVzb3VyY2VcbiAqIEJhc2ljYWxseSBhIHByb21pc2UgbWFzaGVkIGluIHdpdGggYSB0aW1lb3V0XG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBSZXNvdXJjZVJlcXVlc3QgZXh0ZW5kcyBEZWZlcnJlZCB7XG4gIC8qKlxuICAgKiBbY29uc3RydWN0b3IgZGVzY3JpcHRpb25dXG4gICAqIEBwYXJhbSAge051bWJlcn0gdHRsICAgICB0aW1lb3V0XG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0dGwsIFByb21pc2UpIHtcbiAgICBzdXBlcihQcm9taXNlKTtcbiAgICB0aGlzLl9jcmVhdGlvblRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgdGhpcy5fdGltZW91dCA9IG51bGw7XG5cbiAgICBpZiAodHRsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc2V0VGltZW91dCh0dGwpO1xuICAgIH1cbiAgfVxuXG4gIHNldFRpbWVvdXQoZGVsYXkpIHtcbiAgICBpZiAodGhpcy5fc3RhdGUgIT09IFJlc291cmNlUmVxdWVzdC5QRU5ESU5HKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHR0bCA9IHBhcnNlSW50KGRlbGF5LCAxMCk7XG5cbiAgICBpZiAoaXNOYU4odHRsKSB8fCB0dGwgPD0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZGVsYXkgbXVzdCBiZSBhIHBvc2l0aXZlIGludFwiKTtcbiAgICB9XG5cbiAgICBjb25zdCBhZ2UgPSBEYXRlLm5vdygpIC0gdGhpcy5fY3JlYXRpb25UaW1lc3RhbXA7XG5cbiAgICBpZiAodGhpcy5fdGltZW91dCkge1xuICAgICAgdGhpcy5yZW1vdmVUaW1lb3V0KCk7XG4gICAgfVxuXG4gICAgdGhpcy5fdGltZW91dCA9IHNldFRpbWVvdXQoXG4gICAgICBmYmluZCh0aGlzLl9maXJlVGltZW91dCwgdGhpcyksXG4gICAgICBNYXRoLm1heCh0dGwgLSBhZ2UsIDApXG4gICAgKTtcbiAgfVxuXG4gIHJlbW92ZVRpbWVvdXQoKSB7XG4gICAgaWYgKHRoaXMuX3RpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTtcbiAgICB9XG4gICAgdGhpcy5fdGltZW91dCA9IG51bGw7XG4gIH1cblxuICBfZmlyZVRpbWVvdXQoKSB7XG4gICAgdGhpcy5yZWplY3QobmV3IGVycm9ycy5UaW1lb3V0RXJyb3IoXCJSZXNvdXJjZVJlcXVlc3QgdGltZWQgb3V0XCIpKTtcbiAgfVxuXG4gIHJlamVjdChyZWFzb24pIHtcbiAgICB0aGlzLnJlbW92ZVRpbWVvdXQoKTtcbiAgICBzdXBlci5yZWplY3QocmVhc29uKTtcbiAgfVxuXG4gIHJlc29sdmUodmFsdWUpIHtcbiAgICB0aGlzLnJlbW92ZVRpbWVvdXQoKTtcbiAgICBzdXBlci5yZXNvbHZlKHZhbHVlKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlc291cmNlUmVxdWVzdDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/generic-pool/lib/ResourceRequest.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/generic-pool/lib/errors.js":
/*!*****************************************************!*\
  !*** ../../node_modules/generic-pool/lib/errors.js ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nclass ExtendableError extends Error {\n  constructor(message) {\n    super(message);\n    // @ts-ignore\n    this.name = this.constructor.name;\n    this.message = message;\n    if (typeof Error.captureStackTrace === \"function\") {\n      Error.captureStackTrace(this, this.constructor);\n    } else {\n      this.stack = new Error(message).stack;\n    }\n  }\n}\n\n/* eslint-disable no-useless-constructor */\nclass TimeoutError extends ExtendableError {\n  constructor(m) {\n    super(m);\n  }\n}\n/* eslint-enable no-useless-constructor */\n\nmodule.exports = {\n  TimeoutError: TimeoutError\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL2dlbmVyaWMtcG9vbC9saWIvZXJyb3JzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBsdXM5OS9jcm9ueC11aS8uLi8uLi9ub2RlX21vZHVsZXMvZ2VuZXJpYy1wb29sL2xpYi9lcnJvcnMuanM/NGUxOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuY2xhc3MgRXh0ZW5kYWJsZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHRoaXMubmFtZSA9IHRoaXMuY29uc3RydWN0b3IubmFtZTtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIGlmICh0eXBlb2YgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3RhY2sgPSBuZXcgRXJyb3IobWVzc2FnZSkuc3RhY2s7XG4gICAgfVxuICB9XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVzZWxlc3MtY29uc3RydWN0b3IgKi9cbmNsYXNzIFRpbWVvdXRFcnJvciBleHRlbmRzIEV4dGVuZGFibGVFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG0pIHtcbiAgICBzdXBlcihtKTtcbiAgfVxufVxuLyogZXNsaW50LWVuYWJsZSBuby11c2VsZXNzLWNvbnN0cnVjdG9yICovXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBUaW1lb3V0RXJyb3I6IFRpbWVvdXRFcnJvclxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/generic-pool/lib/errors.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/generic-pool/lib/factoryValidator.js":
/*!***************************************************************!*\
  !*** ../../node_modules/generic-pool/lib/factoryValidator.js ***!
  \***************************************************************/
/***/ ((module) => {

eval("module.exports = function(factory) {\n  if (typeof factory.create !== \"function\") {\n    throw new TypeError(\"factory.create must be a function\");\n  }\n\n  if (typeof factory.destroy !== \"function\") {\n    throw new TypeError(\"factory.destroy must be a function\");\n  }\n\n  if (\n    typeof factory.validate !== \"undefined\" &&\n    typeof factory.validate !== \"function\"\n  ) {\n    throw new TypeError(\"factory.validate must be a function\");\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL2dlbmVyaWMtcG9vbC9saWIvZmFjdG9yeVZhbGlkYXRvci5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcGx1czk5L2Nyb254LXVpLy4uLy4uL25vZGVfbW9kdWxlcy9nZW5lcmljLXBvb2wvbGliL2ZhY3RvcnlWYWxpZGF0b3IuanM/NjQ2MyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBmYWN0b3J5LmNyZWF0ZSAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImZhY3RvcnkuY3JlYXRlIG11c3QgYmUgYSBmdW5jdGlvblwiKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZmFjdG9yeS5kZXN0cm95ICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiZmFjdG9yeS5kZXN0cm95IG11c3QgYmUgYSBmdW5jdGlvblwiKTtcbiAgfVxuXG4gIGlmIChcbiAgICB0eXBlb2YgZmFjdG9yeS52YWxpZGF0ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgIHR5cGVvZiBmYWN0b3J5LnZhbGlkYXRlICE9PSBcImZ1bmN0aW9uXCJcbiAgKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImZhY3RvcnkudmFsaWRhdGUgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/generic-pool/lib/factoryValidator.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/generic-pool/lib/utils.js":
/*!****************************************************!*\
  !*** ../../node_modules/generic-pool/lib/utils.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nfunction noop() {}\n\n/**\n * Reflects a promise but does not expose any\n * underlying value or rejection from that promise.\n * @param  {Promise} promise [description]\n * @return {Promise}         [description]\n */\nexports.reflector = function(promise) {\n  return promise.then(noop, noop);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL2dlbmVyaWMtcG9vbC9saWIvdXRpbHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxTQUFTO0FBQ3JCLFlBQVksaUJBQWlCO0FBQzdCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcGx1czk5L2Nyb254LXVpLy4uLy4uL25vZGVfbW9kdWxlcy9nZW5lcmljLXBvb2wvbGliL3V0aWxzLmpzPzBhZTgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG4vKipcbiAqIFJlZmxlY3RzIGEgcHJvbWlzZSBidXQgZG9lcyBub3QgZXhwb3NlIGFueVxuICogdW5kZXJseWluZyB2YWx1ZSBvciByZWplY3Rpb24gZnJvbSB0aGF0IHByb21pc2UuXG4gKiBAcGFyYW0gIHtQcm9taXNlfSBwcm9taXNlIFtkZXNjcmlwdGlvbl1cbiAqIEByZXR1cm4ge1Byb21pc2V9ICAgICAgICAgW2Rlc2NyaXB0aW9uXVxuICovXG5leHBvcnRzLnJlZmxlY3RvciA9IGZ1bmN0aW9uKHByb21pc2UpIHtcbiAgcmV0dXJuIHByb21pc2UudGhlbihub29wLCBub29wKTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/generic-pool/lib/utils.js\n");

/***/ })

};
;